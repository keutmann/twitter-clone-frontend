{"version":3,"sources":["../node_modules/gun-util/dist sync","styles/GlobalStyle.js","styles/themes.js","context/ThemeContext.js","styles/Layout.js","styles/Svg.js","components/Icons.js","components/Loader.js","utils/resources.js","utils/crypto.js","utils/DispatcherEvent.js","utils/UserContainer.js","utils/Policy.js","utils/TweetContainer.js","context/userContext.js","hooks/useUser.js","components/MenuItems/ToggleTheme.js","styles/MenuButton.js","components/MenuItems/SettingsMenuButton.js","components/MenuItems/Logout.js","components/MenuItems/ChangeColor.js","components/MorePopup.js","components/layout/Nav.js","components/Tweet/DeleteTweet.js","components/Message/ConfirmReject.js","utils/index.js","components/Tweet/Retweet.js","styles/Avatar.js","components/AvatarIdenticon.js","hooks/useProfile.js","hooks/useUserChanged.js","utils/Identicon.js","components/Analyse/ScoreGraph.js","components/Analyse/ScoreGraphModal.js","components/Buttons/Degree.js","hooks/useUserAction.js","components/MenuItems/FollowUser.js","components/MenuItems/MuteUser.js","styles/Form.js","styles/Button.js","hooks/useInput.js","components/MenuItems/NoteModal.js","components/MenuItems/BlockUser.js","components/Analyse/RelationshipGraph.js","components/Analyse/RalationshipGraphModal.js","components/MenuItems/AnalyseGraph.js","components/MenuItems/TrustUser.js","components/MenuItems/DeleteTweetMenuItem.js","components/MenuItems/ScoreGraph.js","components/Tweet/TweetMenu.js","components/Tweet/Tweet.js","components/CustomResponse.js","components/FeedList.js","styles/TweetFile.js","components/Tweet/NewTweet.js","components/FeedStatus.js","components/Header.js","pages/Home.js","components/Comment/DeleteComment.js","components/Message/Confirm.js","components/Comment/Comment.js","components/Comment/AddComment.js","utils/CommentContainer.js","components/Tweet/MasterTweet.js","styles/CoverPhoto.js","hooks/useFollow.js","components/Profile/Follow.js","components/Profile/ProfileInfo.js","components/Profile/ProfileFeed.js","components/Comment/CommentsFeed.js","components/Profile/ProfileTabs.js","components/Profile/Profile.js","pages/Bookmarks.js","pages/Notifications.js","components/Search/SearchInput.js","pages/Explore.js","components/Profile/ProfileMenu.js","components/UserItem.js","components/WhoToFollow.js","pages/Suggestion.js","components/Input.js","components/Profile/EditProfileForm.js","components/Profile/EditProfile.js","components/Settings/KeyPair.js","pages/Settings.js","Route.js","components/Auth/Login.js","components/Auth/Signup.js","components/Auth/Auth.js","App.js","context/index.js","index.js","../node_modules/gun sync"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","createGlobalStyle","props","theme","background","primaryColor","accentColor","font","lightTheme","bgHover","secondaryColor","tertiaryColor","tertiaryColor2","overlay","bs1","trustBackground","trustTextcolor","followBackground","followTextcolor","neutralBackground","neutralTextcolor","muteBackground","muteTextcolor","blockBackground","blockTextcolor","darkTheme","ThemeContext","createContext","ThemeProvider","children","localSt","localStorage","getItem","useState","setTheme","Provider","value","styled","div","Svg","svg","color","loading","DimmedSvg","Logo","src","alt","width","height","HomeIcon","viewBox","d","ExploreIcon","BmIcon","NotificationIcon","ProfileIcon","ThemeIcon","sm","xmlns","UploadFileIcon","cx","cy","r","LoadingIcon","CommentIcon","RetweetIcon","onClick","RtFillIcon","TrashIcon","DobIcon","LinkIcon","LocationIcon","ColorIcon","SettingsIcon","BlockIcon","fill","NeutralIcon","TrustIcon","rotateABD","keyframes","Wrapper","Loader","resources","node","names","dpeep","profile","people","peopleMetadata","tweet","tweets","tweetsMetadata","relationships","relationshipsMetadata","replys","claims","claimsMetadata","distrust","confirm","reject","trusted","distrusted","latest","delete","next","comments","userIndex","trust","follow","neutral","mute","block","envelope","_id","undefined","_sig","text","tags","comment","createdAt","handle","displayname","coverPhoto","avatar","bio","location","website","dob","sha256","data","a","sea","work","name","DispatcherEvent","eventName","this","callbacks","callback","push","index","indexOf","splice","slice","forEach","UserContainer","gunUser","pub","is","substring","nodeId","get","DateTree","commentsMetadata","user","relationshipBy","relationshipChanged","scores","score","onScoreChange","state","createScore","onStateChange","onChange","onProfileChange","degree","MAX_DEGREE","relationship","emptyScoreObj","action","fire","val","Object","assign","weight","reduce","arr","element","event","change","firstScore","i","find","x","firstState","getStates","sort","b","previousState","sourceUser","oldDegree","oldRelationship","removeScore","addScore","calculateScore","cb","preProfile","getDefaultProfile","loaded","once","targetUser","put","_profile","userid","length","Policy","usersBlock","policy","TweetPolicy","deleted","hideDeleted","owner","hideBlocked","TweetContainer","getUser","soul","Gun","soulElem","split","userId","shift","category","confirmedBy","setOwner","_node","dpeepUserKeys","serverpeers","UserContext","displayName","UserProvider","on","context","to","isValid","opt","msg","peers","filter","k","map","gun","setGunUser","isLoggedIn","setIsLoggedIn","authenticate","setAuthenticate","signedUp","setSignedUp","setUser","users","feed","setFeed","feedIndex","setFeedIndex","feedReady","messageReceived","setMessageReceived","login","React","useCallback","auth","sessionStorage","setItem","JSON","stringify","success","keyPair","loginPassword","username","password","passwordString","keyHash","encryptedstring","decrypt","signup","ack","sucess","pair","encrypt","encryptedString","logout","leave","getUserContainer","userContainer","pubId","getUserContainerById","userSignUp","signedUpData","followUser","followNode","removeFromFeed","key","addFeed","_msg","_ev","item","addTweet","initializeRelationships","loggedInUser","addClaim","unloadClaims","loadClaims","isTrust","isUntrust","isFollow","isUnfollow","isMute","isUnmute","isBlock","isUnblock","unfollowUser","trustUser","untrustUser","processEvent","load","currentUser","console","log","maxDegree","processed","relationshipGun","addRelationship","off","v","claimTree","search","gte","moment","add","format","lt","order","iterate","claim","entries","claimedBy","claimsChanged","localDegree","resetFeedReady","p","onAuth","loadProfile","loadFeed","temp","items","values","useEffect","keysString","parse","useMemo","useUser","useContext","ToggleTheme","currentTheme","setCurrentTheme","SettingsMenuButton","activeClassName","MenuButton","Logout","toast","ChangeColor","colors","currentColor","setCurrentColor","newAccentColor","MoreBtn","forwardRef","ref","open","className","MorePopup","contentStyle","borderRadius","border","boxShadow","trigger","position","closeOnDocumentClick","overlayStyle","arrow","nav","Nav","exact","DeleteTweet","handleDeleteTweet","ConfirmReject","confirmed","setConfirmed","confirmCount","confirmedCountState","setConfirmedCount","rejected","setRejected","rejectCount","rejectedCountState","setRejectedCount","handleToggleConfirmed","handleToggleRejected","title","displayError","err","error","message","stack","uploadImage","file","formData","FormData","append","toastId","axios","request","method","url","process","REACT_APP_CLOUDINARY_URL","onUploadProgress","progress","total","bodyClassName","update","dismiss","secure_url","Retweet","isRetweet","retweetsCount","retweet","setRetweet","retweetsCountState","setRetweetsCount","handleRetweet","img","lg","StyledIdenticon","Identicon","AvatarIdenticon","Avatar","string","size","useProfile","setProfile","useUserChanged","changed","setChanged","registerCallback","unregisterCallback","Identicoin","prop","defaultProps","canvas","document","createElement","n","in_min","in_max","out_min","out_max","toDataURL","hash","md5","Math","floor","count","hashcolor","palette","range","parseInt","fg","getColor","pad","padding","el","ctx","getContext","imageSmoothingEnabled","clearRect","row","j","fillStyle","fillRect","bg","options","layout","hierarchical","direction","sortMethod","interaction","dragNodes","hover","physics","enabled","nodes","shape","borderWidth","shadow","multi","face","edges","arrows","autoResize","lineBreakText","join","ScoreGraph","close","graphRef","createRef","history","useHistory","logginInUser","visited","localUser","childNode","level","currentNode","label","icon","updateCanvas","image","createNode","edgecolor","textColor","getEdgeColors","from","first","getReduceRelationshipBy","counter","graph","events","select","doubleClick","current","style","with","StyledPopup","Popup","ScoreGraphModal","onClose","nested","modal","header","stateColor","Degree","setOpen","closeModal","titel","saveModal","obj","saveTitle","useUserAction","actionName","actionState","setActionState","an","actionData","setAction","FollowUser","Fragment","MuteUser","form","css","center","button","outline","xl","relative","useInput","defaultValue","setValue","target","secondaryColor2","NoteModal","useRef","note","handleSubmit","Form","onSubmit","htmlFor","placeholder","Button","type","BlockUser","popupClose","RelationshipGraph","parentNode","getColors","RelationshipGraphModal","AnalyseGraph","TrustUser","DeleteTweetMenuItem","TweetMenuBtn","TweetMenu","display","Tweet","itemUri","encodeURIComponent","fromNow","CustomResponse","FeedList","timerId","setInterval","clearInterval","newtweet","NewTweet","tweetFiles","setTweetFiles","createTweet","date","Date","tweetId","toISOString","tweetNode","then","tweetData","commentsData","handleNewTweet","preventDefault","str","startsWith","tweetdata","handleTweetFiles","files","imageUrl","cols","TweetFile","accept","disabled","FeedStatus","messageCount","setMessageCount","Header","Home","DeleteComment","handleDeleteComment","Confirm","isConfirmed","setLiked","setLikesCount","handleToggleLike","Comment","isCommentMine","AddComment","handleAddComment","commentId","commentNode","commentData","CommentContainer","MasterTweet","useParams","setTweet","setComments","setTweetNode","decodeURIComponent","dateString","commentsTree","list","container","useFollow","followState","setFollow","setNode","relationshipNode","wait","not","Follow","setFollowState","isFollowing","ProfileInfo","isSelf","followersCount","followingCount","CoverPhoto","ProfileFeed","CommentsFeed","ProfileTabs","Profile","viewedUser","setViewedUser","userNotFound","setUserNotFound","Bookmarks","Notifications","SearchInput","term","handleSearch","Explore","ProfileMenu","UserWrapper","UserItem","WhoToFollow","setList","availableUsers","allUsers","keyUser","Suggestion","Input","autoComplete","withRouter","avatarState","setAvatar","handleEditProfile","updatedData","field","ResizeImage","reader","FileReader","onload","readerEvent","Image","imageEvent","max_size","drawImage","dataUrl","result","readAsDataURL","handleAvatar","dataurl","EditProfile","KeyPair","handleNewKeyPair","Settings","AppRouter","Layout","path","component","Login","changeToSignup","email","handleLogin","Signup","changeToLogin","firstname","lastname","handleSignup","exec","fullname","Auth","authAction","setAuthAction","App","GlobalStyle","toastClassName","autoClose","closeButton","draggable","Route","AppProviders","RootApp","render","getElementById"],"mappings":"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","file":"static/js/main.c12fd909.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 215;","import { createGlobalStyle } from \"styled-components\";\r\n\r\nexport default createGlobalStyle`\r\n\thtml {\r\n\t\tfont-size: 16px;\r\n\t\tbox-sizing: border-box;\r\n\t}\t\r\n\r\n\t*, *:before, *:after {\r\n\t\tpadding: 0;\r\n\t\tmargin: 0;\r\n\t\tbox-sizing: inherit;\r\n\t}\r\n\r\n\tbody {\r\n\t\tfont-family: 'Poppins', sans-serif;\r\n\t\tbackground-color: ${(props) => props.theme.background};\r\n\t\tcolor: ${(props) => props.theme.primaryColor};\r\n\t\tline-height: 1.8;\r\n\t\toverflow-x: hidden;\r\n\t}\r\n\r\n\tbody::-webkit-scrollbar {\r\n\t\t\twidth: 0.25rem;\r\n\t}\r\n\r\n\tbody::-webkit-scrollbar-track {\r\n\t\tbackground: ${(props) => props.theme.background};\r\n\t}\r\n\r\n\tbody::-webkit-scrollbar-thumb {\r\n\t\tbackground: ${(props) => props.theme.accentColor};\r\n\t}\r\n\r\n\th1, h2, h3, h4, h5, h6 {\r\n\t\tfont-weight: normal;\r\n\t}\r\n\r\n\ta {\r\n\t\ttext-decoration: none;\r\n\t\tcolor: inherit;\r\n\t}\r\n\r\n\tli {\r\n\t\tlist-style-type: none;\r\n\t}\r\n\r\n  button:focus, textarea:focus, input:focus{\r\n    outline: none;\r\n  }\r\n\r\n\t.toast-style {\r\n\t\tbackground: ${(props) => props.theme.accentColor};\r\n\t\tfont-family: ${(props) => props.theme.font};\r\n\t}\r\n\r\n\t.upload-progress-bar {\r\n\t\tcolor: #FFF;\r\n\t}\r\n\r\n\ttextarea {\r\n\t\tresize: none;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\tbutton:disabled,\r\n\tbutton[disabled]{\r\n\t\topacity: 0.5;\r\n\t\tcursor: not-allowed;\r\n\t}\r\n\r\n\t// using svg as input icon\r\n\t.svg-input > input, .avatar-input > input, .cover-photo > input {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n .Toastify__toast {\r\n\t\tborder-radius: 4px;\r\n\t}\r\n\r\n\t@media screen and (max-width: 769px) {\r\n\t\tbody {\r\n\t\t\tfont-size: 0.9rem;\r\n\t\t}\r\n}\r\n`;\r\n","export const lightTheme = {\r\n  background: \"#FFF\",\r\n  bgHover: \"#F5F8FA\",\r\n  primaryColor: \"#17141A\",\r\n  secondaryColor: \"#657786\",\r\n  accentColor: \"#CA2055\",\r\n  tertiaryColor: \"#CCD6DD\",\r\n  tertiaryColor2: \"#F5F8FA\",\r\n  overlay: \"rgba(147, 149, 150, 0.4)\",\r\n  font: \"Poppins\",\r\n  bs1: \"0 0 6px 3px rgba(0,0,0,0.1)\",\r\n  trustBackground: \"purple\",\r\n  trustTextcolor: \"white\",\r\n  followBackground: \"green\",\r\n  followTextcolor: \"black\",\r\n  neutralBackground: \"white\",\r\n  neutralTextcolor: \"black\",\r\n  muteBackground: \"yellow\",\r\n  muteTextcolor: \"black\",\r\n  blockBackground: \"red\",\r\n  blockTextcolor: \"white\",\r\n};\r\n\r\nexport const darkTheme = {\r\n  background: \"#15202b\",\r\n  bgHover: \"#192734\",\r\n  primaryColor: \"#FFF\",\r\n  secondaryColor: \"#657786\",\r\n  accentColor: \"#CA2055\",\r\n  tertiaryColor: \"#38444D\",\r\n  tertiaryColor2: \"#202E3A\",\r\n  overlay: \"rgba(110, 118, 125, 0.4)\",\r\n  font: \"Poppins\",\r\n  bs1: \"0 0 6px 3px rgba(0,0,0,0.1)\",\r\n  trustBackground: \"purple\",\r\n  trustTextcolor: \"white\",\r\n  followBackground: \"green\",\r\n  followTextcolor: \"black\",\r\n  neutralBackground: \"white\",\r\n  neutralTextcolor: \"black\",\r\n  muteBackground: \"yellow\",\r\n  muteTextcolor: \"black\",\r\n  blockBackground: \"red\",\r\n  blockTextcolor: \"white\",\r\n\r\n};\r\n","import React, { useState, createContext } from \"react\";\r\nimport { darkTheme, lightTheme } from \"../styles/themes\";\r\n\r\nexport const ThemeContext = createContext(null);\r\n\r\nexport const ThemeProvider = ({ children }) => {\r\n  const localSt = localStorage.getItem(\"theme\");\r\n\r\n  const [theme, setTheme] = useState(\r\n    localSt ? (localSt === \"dark\" ? darkTheme : lightTheme) : lightTheme\r\n  );\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, setTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n};\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n  margin-left: 14.6%;\r\n  display: grid;\r\n\tgrid-template-columns: 65% 1fr;\r\n\r\n  @media screen and (max-width: 1110px) {\r\n    grid-template-columns: 1fr;\r\n    margin-left: 10%;\r\n  }\r\n\r\n  @media screen and (max-width: 530px) {\r\n    margin-left: 0;\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nconst Svg = styled.svg`\r\n  fill: ${(props) => (props.color ? props.color : props.theme.primaryColor)};\r\n  width: 18px;\r\n  height: 18px;\r\n  cursor: ${(props) => (props.loading ? \"not-allowed\" : \"pointer\")};\r\n`;\r\n\r\nexport const DimmedSvg = styled.svg`\r\n  fill: ${(props) => props.theme.secondaryColor};\r\n  width: 18px;\r\n  height: 18px;\r\n  cursor: pointer;\r\n  opacity: ${(props) => (props.loading === \"loading\" ? \"0.5\" : \"1\")};\r\n  cursor: ${(props) => props.loading && \"not-allowed\"};\r\n\r\n  &:hover {\r\n    fill: #e0245e;\r\n  }\r\n`;\r\n\r\nexport default Svg;\r\n","import React from \"react\";\r\nimport Svg, { DimmedSvg } from \"../styles/Svg\";\r\n\r\nexport const Logo = () => (\r\n  <img src=\"honey-badger.webp\" alt=\"Honey badger\" width=\"50\" height=\"50\"></img>\r\n  // <Svg viewBox=\"0 0 24 24\" width=\"100%\" height=\"100%\">\r\n  //   <g>\r\n  //     <path d=\"M23.643 4.937c-.835.37-1.732.62-2.675.733.962-.576 1.7-1.49 2.048-2.578-.9.534-1.897.922-2.958 1.13-.85-.904-2.06-1.47-3.4-1.47-2.572 0-4.658 2.086-4.658 4.66 0 .364.042.718.12 1.06-3.873-.195-7.304-2.05-9.602-4.868-.4.69-.63 1.49-.63 2.342 0 1.616.823 3.043 2.072 3.878-.764-.025-1.482-.234-2.11-.583v.06c0 2.257 1.605 4.14 3.737 4.568-.392.106-.803.162-1.227.162-.3 0-.593-.028-.877-.082.593 1.85 2.313 3.198 4.352 3.234-1.595 1.25-3.604 1.995-5.786 1.995-.376 0-.747-.022-1.112-.065 2.062 1.323 4.51 2.093 7.14 2.093 8.57 0 13.255-7.098 13.255-13.254 0-.2-.005-.402-.014-.602.91-.658 1.7-1.477 2.323-2.41z\"></path>\r\n  //   </g>\r\n  // </Svg>\r\n);\r\n\r\nexport const HomeIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M22.46 7.57L12.357 2.115c-.223-.12-.49-.12-.713 0L1.543 7.57c-.364.197-.5.652-.303 1.017.135.25.394.393.66.393.12 0 .243-.03.356-.09l.815-.44L4.7 19.963c.214 1.215 1.308 2.062 2.658 2.062h9.282c1.352 0 2.445-.848 2.663-2.087l1.626-11.49.818.442c.364.193.82.06 1.017-.304.196-.363.06-.818-.304-1.016zm-4.638 12.133c-.107.606-.703.822-1.18.822H7.36c-.48 0-1.075-.216-1.178-.798L4.48 7.69 12 3.628l7.522 4.06-1.7 12.015z\"></path>\r\n      <path d=\"M8.22 12.184c0 2.084 1.695 3.78 3.78 3.78s3.78-1.696 3.78-3.78-1.695-3.78-3.78-3.78-3.78 1.696-3.78 3.78zm6.06 0c0 1.258-1.022 2.28-2.28 2.28s-2.28-1.022-2.28-2.28 1.022-2.28 2.28-2.28 2.28 1.022 2.28 2.28z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const ExploreIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M21 7.337h-3.93l.372-4.272c.036-.412-.27-.775-.682-.812-.417-.03-.776.27-.812.683l-.383 4.4h-6.32l.37-4.27c.037-.413-.27-.776-.68-.813-.42-.03-.777.27-.813.683l-.382 4.4H3.782c-.414 0-.75.337-.75.75s.336.75.75.75H7.61l-.55 6.327H3c-.414 0-.75.336-.75.75s.336.75.75.75h3.93l-.372 4.272c-.036.412.27.775.682.812l.066.003c.385 0 .712-.295.746-.686l.383-4.4h6.32l-.37 4.27c-.036.413.27.776.682.813l.066.003c.385 0 .712-.295.746-.686l.382-4.4h3.957c.413 0 .75-.337.75-.75s-.337-.75-.75-.75H16.39l.55-6.327H21c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-6.115 7.826h-6.32l.55-6.326h6.32l-.55 6.326z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const BmIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M19.9 23.5c-.157 0-.312-.05-.442-.144L12 17.928l-7.458 5.43c-.228.164-.53.19-.782.06-.25-.127-.41-.385-.41-.667V5.6c0-1.24 1.01-2.25 2.25-2.25h12.798c1.24 0 2.25 1.01 2.25 2.25v17.15c0 .282-.158.54-.41.668-.106.055-.223.082-.34.082zM12 16.25c.155 0 .31.048.44.144l6.71 4.883V5.6c0-.412-.337-.75-.75-.75H5.6c-.413 0-.75.338-.75.75v15.677l6.71-4.883c.13-.096.285-.144.44-.144z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const NotificationIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M21.697 16.468c-.02-.016-2.14-1.64-2.103-6.03.02-2.532-.812-4.782-2.347-6.335C15.872 2.71 14.01 1.94 12.005 1.93h-.013c-2.004.01-3.866.78-5.242 2.174-1.534 1.553-2.368 3.802-2.346 6.334.037 4.33-2.02 5.967-2.102 6.03-.26.193-.366.53-.265.838.102.308.39.515.712.515h4.92c.102 2.31 1.997 4.16 4.33 4.16s4.226-1.85 4.327-4.16h4.922c.322 0 .61-.206.71-.514.103-.307-.003-.645-.263-.838zM12 20.478c-1.505 0-2.73-1.177-2.828-2.658h5.656c-.1 1.48-1.323 2.66-2.828 2.66zM4.38 16.32c.74-1.132 1.548-3.028 1.524-5.896-.018-2.16.644-3.982 1.913-5.267C8.91 4.05 10.397 3.437 12 3.43c1.603.008 3.087.62 4.18 1.728 1.27 1.285 1.933 3.106 1.915 5.267-.024 2.868.785 4.765 1.525 5.896H4.38z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const ProfileIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M12 11.816c1.355 0 2.872-.15 3.84-1.256.814-.93 1.078-2.368.806-4.392-.38-2.825-2.117-4.512-4.646-4.512S7.734 3.343 7.354 6.17c-.272 2.022-.008 3.46.806 4.39.968 1.107 2.485 1.256 3.84 1.256zM8.84 6.368c.162-1.2.787-3.212 3.16-3.212s2.998 2.013 3.16 3.212c.207 1.55.057 2.627-.45 3.205-.455.52-1.266.743-2.71.743s-2.255-.223-2.71-.743c-.507-.578-.657-1.656-.45-3.205zm11.44 12.868c-.877-3.526-4.282-5.99-8.28-5.99s-7.403 2.464-8.28 5.99c-.172.692-.028 1.4.395 1.94.408.52 1.04.82 1.733.82h12.304c.693 0 1.325-.3 1.733-.82.424-.54.567-1.247.394-1.94zm-1.576 1.016c-.126.16-.316.246-.552.246H5.848c-.235 0-.426-.085-.552-.246-.137-.174-.18-.412-.12-.654.71-2.855 3.517-4.85 6.824-4.85s6.114 1.994 6.824 4.85c.06.242.017.48-.12.654z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const ThemeIcon = ({ color, sm }) => (\r\n  <Svg\r\n    color={color}\r\n    sm={sm}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"24\"\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n  >\r\n    <path d=\"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10v-20zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12z\" />\r\n  </Svg>\r\n);\r\n\r\nexport const UploadFileIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M19.75 2H4.25C3.01 2 2 3.01 2 4.25v15.5C2 20.99 3.01 22 4.25 22h15.5c1.24 0 2.25-1.01 2.25-2.25V4.25C22 3.01 20.99 2 19.75 2zM4.25 3.5h15.5c.413 0 .75.337.75.75v9.676l-3.858-3.858c-.14-.14-.33-.22-.53-.22h-.003c-.2 0-.393.08-.532.224l-4.317 4.384-1.813-1.806c-.14-.14-.33-.22-.53-.22-.193-.03-.395.08-.535.227L3.5 17.642V4.25c0-.413.337-.75.75-.75zm-.744 16.28l5.418-5.534 6.282 6.254H4.25c-.402 0-.727-.322-.744-.72zm16.244.72h-2.42l-5.007-4.987 3.792-3.85 4.385 4.384v3.703c0 .413-.337.75-.75.75z\"></path>\r\n      <circle cx=\"8.868\" cy=\"8.309\" r=\"1.542\"></circle>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const LoadingIcon = () => (\r\n  <Svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"24\"\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n  >\r\n    <path d=\"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm8 12c0 4.418-3.582 8-8 8s-8-3.582-8-8 3.582-8 8-8 8 3.582 8 8zm-19 0c0-6.065 4.935-11 11-11v2c-4.962 0-9 4.038-9 9 0 2.481 1.009 4.731 2.639 6.361l-1.414 1.414.015.014c-2-1.994-3.24-4.749-3.24-7.789z\" />\r\n  </Svg>\r\n);\r\n\r\nexport const CommentIcon = () => (\r\n  <DimmedSvg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M14.046 2.242l-4.148-.01h-.002c-4.374 0-7.8 3.427-7.8 7.802 0 4.098 3.186 7.206 7.465 7.37v3.828c0 .108.044.286.12.403.142.225.384.347.632.347.138 0 .277-.038.402-.118.264-.168 6.473-4.14 8.088-5.506 1.902-1.61 3.04-3.97 3.043-6.312v-.017c-.006-4.367-3.43-7.787-7.8-7.788zm3.787 12.972c-1.134.96-4.862 3.405-6.772 4.643V16.67c0-.414-.335-.75-.75-.75h-.396c-3.66 0-6.318-2.476-6.318-5.886 0-3.534 2.768-6.302 6.3-6.302l4.147.01h.002c3.532 0 6.3 2.766 6.302 6.296-.003 1.91-.942 3.844-2.514 5.176z\"></path>\r\n    </g>\r\n  </DimmedSvg>\r\n);\r\n\r\nexport const HeartIcon = ({ onClick }) => (\r\n  <DimmedSvg viewBox=\"0 0 24 24\" onClick={onClick}>\r\n    <g>\r\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12zM7.354 4.225c-2.08 0-3.903 1.988-3.903 4.255 0 5.74 7.034 11.596 8.55 11.658 1.518-.062 8.55-5.917 8.55-11.658 0-2.267-1.823-4.255-3.903-4.255-2.528 0-3.94 2.936-3.952 2.965-.23.562-1.156.562-1.387 0-.014-.03-1.425-2.965-3.954-2.965z\"></path>\r\n    </g>\r\n  </DimmedSvg>\r\n);\r\n\r\nexport const RetweetIcon = ({ onClick, loading }) => (\r\n  <DimmedSvg\r\n    viewBox=\"0 0 24 24\"\r\n    onClick={onClick}\r\n    loading={loading ? \"loading\" : \"\"}\r\n  >\r\n    <g>\r\n      <path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\"></path>\r\n    </g>\r\n  </DimmedSvg>\r\n);\r\n\r\nexport const RtFillIcon = ({ color, onClick, loading }) => (\r\n  <Svg\r\n    viewBox=\"0 0 24 24\"\r\n    color={color}\r\n    loading={loading ? \"loading\" : \"\"}\r\n    onClick={onClick}\r\n  >\r\n    <g>\r\n      <path d=\"M23.77 15.67c-.292-.293-.767-.293-1.06 0l-2.22 2.22V7.65c0-2.068-1.683-3.75-3.75-3.75h-5.85c-.414 0-.75.336-.75.75s.336.75.75.75h5.85c1.24 0 2.25 1.01 2.25 2.25v10.24l-2.22-2.22c-.293-.293-.768-.293-1.06 0s-.294.768 0 1.06l3.5 3.5c.145.147.337.22.53.22s.383-.072.53-.22l3.5-3.5c.294-.292.294-.767 0-1.06zm-10.66 3.28H7.26c-1.24 0-2.25-1.01-2.25-2.25V6.46l2.22 2.22c.148.147.34.22.532.22s.384-.073.53-.22c.293-.293.293-.768 0-1.06l-3.5-3.5c-.293-.294-.768-.294-1.06 0l-3.5 3.5c-.294.292-.294.767 0 1.06s.767.293 1.06 0l2.22-2.22V16.7c0 2.068 1.683 3.75 3.75 3.75h5.85c.414 0 .75-.336.75-.75s-.337-.75-.75-.75z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const HeartFillIcon = ({ color, onClick }) => (\r\n  <Svg viewBox=\"0 0 24 24\" color={color} onClick={onClick}>\r\n    <g>\r\n      <path d=\"M12 21.638h-.014C9.403 21.59 1.95 14.856 1.95 8.478c0-3.064 2.525-5.754 5.403-5.754 2.29 0 3.83 1.58 4.646 2.73.814-1.148 2.354-2.73 4.645-2.73 2.88 0 5.404 2.69 5.404 5.755 0 6.376-7.454 13.11-10.037 13.157H12z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const TrashIcon = ({ loading, onClick, color }) => (\r\n  <DimmedSvg\r\n    color={color}\r\n    viewBox=\"0 0 24 24\"\r\n    onClick={onClick}\r\n    loading={loading ? \"loading\" : \"\"}\r\n  >\r\n    <g>\r\n      <path d=\"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z\"></path>\r\n      <path d=\"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z\"></path>\r\n    </g>\r\n  </DimmedSvg>\r\n);\r\n\r\nexport const CrossIcon = () => (\r\n  <Svg\r\n    viewBox=\"0 0 24 24\"\r\n    class=\"r-nw8l94 r-4qtqp9 r-yyyyoo r-1q142lx r-50lct3 r-dnmrzs r-bnwqim r-1plcrui r-lrvibr\"\r\n  >\r\n    <g>\r\n      <path d=\"M13.414 12l5.793-5.793c.39-.39.39-1.023 0-1.414s-1.023-.39-1.414 0L12 10.586 6.207 4.793c-.39-.39-1.023-.39-1.414 0s-.39 1.023 0 1.414L10.586 12l-5.793 5.793c-.39.39-.39 1.023 0 1.414.195.195.45.293.707.293s.512-.098.707-.293L12 13.414l5.793 5.793c.195.195.45.293.707.293s.512-.098.707-.293c.39-.39.39-1.023 0-1.414L13.414 12z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const DobIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M7.75 11.083c-.414 0-.75-.336-.75-.75C7 7.393 9.243 5 12 5c.414 0 .75.336.75.75s-.336.75-.75.75c-1.93 0-3.5 1.72-3.5 3.833 0 .414-.336.75-.75.75z\"></path>\r\n      <path d=\"M20.75 10.333c0-5.01-3.925-9.083-8.75-9.083s-8.75 4.074-8.75 9.083c0 4.605 3.32 8.412 7.605 8.997l-1.7 1.83c-.137.145-.173.357-.093.54.08.182.26.3.46.3h4.957c.198 0 .378-.118.457-.3.08-.183.044-.395-.092-.54l-1.7-1.83c4.285-.585 7.605-4.392 7.605-8.997zM12 17.917c-3.998 0-7.25-3.402-7.25-7.584S8.002 2.75 12 2.75s7.25 3.4 7.25 7.583-3.252 7.584-7.25 7.584z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const LinkIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M11.96 14.945c-.067 0-.136-.01-.203-.027-1.13-.318-2.097-.986-2.795-1.932-.832-1.125-1.176-2.508-.968-3.893s.942-2.605 2.068-3.438l3.53-2.608c2.322-1.716 5.61-1.224 7.33 1.1.83 1.127 1.175 2.51.967 3.895s-.943 2.605-2.07 3.438l-1.48 1.094c-.333.246-.804.175-1.05-.158-.246-.334-.176-.804.158-1.05l1.48-1.095c.803-.592 1.327-1.463 1.476-2.45.148-.988-.098-1.975-.69-2.778-1.225-1.656-3.572-2.01-5.23-.784l-3.53 2.608c-.802.593-1.326 1.464-1.475 2.45-.15.99.097 1.975.69 2.778.498.675 1.187 1.15 1.992 1.377.4.114.633.528.52.928-.092.33-.394.547-.722.547z\"></path>\r\n      <path d=\"M7.27 22.054c-1.61 0-3.197-.735-4.225-2.125-.832-1.127-1.176-2.51-.968-3.894s.943-2.605 2.07-3.438l1.478-1.094c.334-.245.805-.175 1.05.158s.177.804-.157 1.05l-1.48 1.095c-.803.593-1.326 1.464-1.475 2.45-.148.99.097 1.975.69 2.778 1.225 1.657 3.57 2.01 5.23.785l3.528-2.608c1.658-1.225 2.01-3.57.785-5.23-.498-.674-1.187-1.15-1.992-1.376-.4-.113-.633-.527-.52-.927.112-.4.528-.63.926-.522 1.13.318 2.096.986 2.794 1.932 1.717 2.324 1.224 5.612-1.1 7.33l-3.53 2.608c-.933.693-2.023 1.026-3.105 1.026z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\nexport const LocationIcon = () => (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M12 14.315c-2.088 0-3.787-1.698-3.787-3.786S9.913 6.74 12 6.74s3.787 1.7 3.787 3.787-1.7 3.785-3.787 3.785zm0-6.073c-1.26 0-2.287 1.026-2.287 2.287S10.74 12.814 12 12.814s2.287-1.025 2.287-2.286S13.26 8.24 12 8.24z\"></path>\r\n      <path d=\"M20.692 10.69C20.692 5.9 16.792 2 12 2s-8.692 3.9-8.692 8.69c0 1.902.603 3.708 1.743 5.223l.003-.002.007.015c1.628 2.07 6.278 5.757 6.475 5.912.138.11.302.163.465.163.163 0 .327-.053.465-.162.197-.155 4.847-3.84 6.475-5.912l.007-.014.002.002c1.14-1.516 1.742-3.32 1.742-5.223zM12 20.29c-1.224-.99-4.52-3.715-5.756-5.285-.94-1.25-1.436-2.742-1.436-4.312C4.808 6.727 8.035 3.5 12 3.5s7.192 3.226 7.192 7.19c0 1.57-.497 3.062-1.436 4.313-1.236 1.57-4.532 4.294-5.756 5.285z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\n\r\nexport const ColorIcon = ({ color, sm }) => (\r\n  <Svg\r\n    color={color}\r\n    sm={sm}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"24\"\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n  >\r\n    <path d=\"M8.997 13.985c.01 1.104-.88 2.008-1.986 2.015-1.105.009-2.005-.88-2.011-1.984-.01-1.105.879-2.005 1.982-2.016 1.106-.007 2.009.883 2.015 1.985zm-.978-3.986c-1.104.008-2.008-.88-2.015-1.987-.009-1.103.877-2.004 1.984-2.011 1.102-.01 2.008.877 2.012 1.982.012 1.107-.88 2.006-1.981 2.016zm7.981-4.014c.004 1.102-.881 2.008-1.985 2.015-1.106.01-2.008-.879-2.015-1.983-.011-1.106.878-2.006 1.985-2.015 1.101-.006 2.005.881 2.015 1.983zm-12 15.847c4.587.38 2.944-4.492 7.188-4.537l1.838 1.534c.458 5.537-6.315 6.772-9.026 3.003zm14.065-7.115c1.427-2.239 5.846-9.748 5.846-9.748.353-.623-.429-1.273-.975-.813 0 0-6.572 5.714-8.511 7.525-1.532 1.432-1.539 2.086-2.035 4.447l1.68 1.4c2.227-.915 2.868-1.04 3.995-2.811zm-12.622 4.806c-2.084-1.82-3.42-4.479-3.443-7.447-.044-5.51 4.406-10.03 9.92-10.075 3.838-.021 6.479 1.905 6.496 3.447l1.663-1.456c-1.01-2.223-4.182-4.045-8.176-3.992-6.623.055-11.955 5.466-11.903 12.092.023 2.912 1.083 5.57 2.823 7.635.958.492 2.123.329 2.62-.204zm12.797-1.906c1.059 1.97-1.351 3.37-3.545 3.992-.304.912-.803 1.721-1.374 2.311 5.255-.591 9.061-4.304 6.266-7.889-.459.685-.897 1.197-1.347 1.586z\" />\r\n  </Svg>\r\n);\r\n\r\nexport const SettingsIcon = ({ color, sm }) => (\r\n  <Svg \r\n  color={color}\r\n  sm={sm}\r\n  xmlns=\"http://www.w3.org/2000/svg\"\r\n  width=\"24\" \r\n  height=\"24\" \r\n  viewBox=\"0 0 24 24\"\r\n  >\r\n  <g>\r\n    <path d=\"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z\"/>\r\n    <path d=\"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z\"/>\r\n  </g>\r\n</Svg>\r\n);\r\n\r\nexport const MoreIcon = (\r\n  <Svg viewBox=\"0 0 24 24\">\r\n    <g>\r\n      <path d=\"M16.5 10.25c-.965 0-1.75.787-1.75 1.75s.784 1.75 1.75 1.75c.964 0 1.75-.786 1.75-1.75s-.786-1.75-1.75-1.75zm0 2.5c-.414 0-.75-.336-.75-.75 0-.413.337-.75.75-.75s.75.336.75.75c0 .413-.336.75-.75.75zm-4.5-2.5c-.966 0-1.75.787-1.75 1.75s.785 1.75 1.75 1.75 1.75-.786 1.75-1.75-.784-1.75-1.75-1.75zm0 2.5c-.414 0-.75-.336-.75-.75 0-.413.337-.75.75-.75s.75.336.75.75c0 .413-.336.75-.75.75zm-4.5-2.5c-.965 0-1.75.787-1.75 1.75s.785 1.75 1.75 1.75c.964 0 1.75-.786 1.75-1.75s-.787-1.75-1.75-1.75zm0 2.5c-.414 0-.75-.336-.75-.75 0-.413.337-.75.75-.75s.75.336.75.75c0 .413-.336.75-.75.75z\"></path>\r\n      <path d=\"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z\"></path>\r\n    </g>\r\n  </Svg>\r\n);\r\n\r\n\r\nexport const ConfirmIcon = (\r\n<Svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-check-circle\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n  <path d=\"M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z\"/>\r\n</Svg>\r\n);\r\nexport const HandThumbsDownIcon = (\r\n<Svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-hand-thumbs-down\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8.864 15.674c-.956.24-1.843-.484-1.908-1.42-.072-1.05-.23-2.015-.428-2.59-.125-.36-.479-1.012-1.04-1.638-.557-.624-1.282-1.179-2.131-1.41C2.685 8.432 2 7.85 2 7V3c0-.845.682-1.464 1.448-1.546 1.07-.113 1.564-.415 2.068-.723l.048-.029c.272-.166.578-.349.97-.484C6.931.08 7.395 0 8 0h3.5c.937 0 1.599.478 1.934 1.064.164.287.254.607.254.913 0 .152-.023.312-.077.464.201.262.38.577.488.9.11.33.172.762.004 1.15.069.13.12.268.159.403.077.27.113.567.113.856 0 .289-.036.586-.113.856-.035.12-.08.244-.138.363.394.571.418 1.2.234 1.733-.206.592-.682 1.1-1.2 1.272-.847.283-1.803.276-2.516.211a9.877 9.877 0 0 1-.443-.05 9.364 9.364 0 0 1-.062 4.51c-.138.508-.55.848-1.012.964l-.261.065zM11.5 1H8c-.51 0-.863.068-1.14.163-.281.097-.506.229-.776.393l-.04.025c-.555.338-1.198.73-2.49.868-.333.035-.554.29-.554.55V7c0 .255.226.543.62.65 1.095.3 1.977.997 2.614 1.709.635.71 1.064 1.475 1.238 1.977.243.7.407 1.768.482 2.85.025.362.36.595.667.518l.262-.065c.16-.04.258-.144.288-.255a8.34 8.34 0 0 0-.145-4.726.5.5 0 0 1 .595-.643h.003l.014.004.058.013a8.912 8.912 0 0 0 1.036.157c.663.06 1.457.054 2.11-.163.175-.059.45-.301.57-.651.107-.308.087-.67-.266-1.021L12.793 7l.353-.354c.043-.042.105-.14.154-.315.048-.167.075-.37.075-.581 0-.211-.027-.414-.075-.581-.05-.174-.111-.273-.154-.315l-.353-.354.353-.354c.047-.047.109-.176.005-.488a2.224 2.224 0 0 0-.505-.804l-.353-.354.353-.354c.006-.005.041-.05.041-.17a.866.866 0 0 0-.121-.415C12.4 1.272 12.063 1 11.5 1z\"/>\r\n</Svg>);\r\n\r\nexport const HandThumbsUpIcon = (\r\n<Svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-hand-thumbs-up\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2.144 2.144 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a9.84 9.84 0 0 0-.443.05 9.365 9.365 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111L8.864.046zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a8.908 8.908 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.224 2.224 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.866.866 0 0 1-.121.416c-.165.288-.503.56-1.066.56z\"/>\r\n</Svg>\r\n);\r\n\r\nexport const RejectIcon = (\r\n  <Svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-circle\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n  <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/>\r\n</Svg>\r\n);\r\n\r\nexport const UserIcon = ({ color, sm }) => (\r\n  <Svg\r\n    color={color}\r\n    sm={sm}\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    width=\"24\"\r\n    height=\"24\"\r\n    viewBox=\"0 0 24 24\"\r\n  >\r\n    <path d=\"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm7.753 18.305c-.261-.586-.789-.991-1.871-1.241-2.293-.529-4.428-.993-3.393-2.945 3.145-5.942.833-9.119-2.489-9.119-3.388 0-5.644 3.299-2.489 9.119 1.066 1.964-1.148 2.427-3.393 2.945-1.084.25-1.608.658-1.867 1.246-1.405-1.723-2.251-3.919-2.251-6.31 0-5.514 4.486-10 10-10s10 4.486 10 10c0 2.389-.845 4.583-2.247 6.305z\" />\r\n  </Svg>\r\n);\r\n\r\nexport const BlockIcon = ({ color, sm }) => (\r\n<Svg \r\n    color={color}\r\n    sm={sm}\r\n    xmlns=\"http://www.w3.org/2000/svg\" \r\n    width=\"16\" \r\n    height=\"16\" \r\n    fill=\"currentColor\" \r\n    viewBox=\"0 0 16 16\">\r\n  <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n  <path d=\"M11.354 4.646a.5.5 0 0 0-.708 0l-6 6a.5.5 0 0 0 .708.708l6-6a.5.5 0 0 0 0-.708z\"/>\r\n</Svg>\r\n);\r\n\r\nexport const MuteIcon = ({ color, sm }) => (\r\n  <Svg \r\n      color={color}\r\n      sm={sm}\r\n      xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-eye-slash\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z\"/>\r\n  <path d=\"M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z\"/>\r\n  <path d=\"M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z\"/>\r\n</Svg>\r\n);\r\n\r\nexport const NeutralIcon = ({ color, sm }) => (\r\n  <Svg xmlns=\"http://www.w3.org/2000/svg\" \r\n      color={color}\r\n      sm={sm}\r\n      width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n    <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n    <path d=\"M4 10.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5zm3-4C7 5.672 6.552 5 6 5s-1 .672-1 1.5S5.448 8 6 8s1-.672 1-1.5zm4 0c0-.828-.448-1.5-1-1.5s-1 .672-1 1.5S9.448 8 10 8s1-.672 1-1.5z\"/>\r\n  </Svg>\r\n);\r\n\r\nexport const TrustIcon = ({ color, sm }) => (\r\n  <Svg xmlns=\"http://www.w3.org/2000/svg\" \r\n    color={color}\r\n    sm={sm}\r\n    width=\"16\" height=\"16\" fill=\"currentColor\" viewBox=\"0 0 16 16\">\r\n    <path d=\"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"/>\r\n    <path d=\"M4.285 9.567a.5.5 0 0 1 .683.183A3.498 3.498 0 0 0 8 11.5a3.498 3.498 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.498 4.498 0 0 1 8 12.5a4.498 4.498 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683zM7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5zm4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5z\"/>\r\n  </Svg>\r\n);\r\n\r\n\r\nexport const ThreeDotsIcon = ({ color, sm }) => (\r\n  <Svg \r\n      color={color}\r\n      sm={sm}\r\n      xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-three-dots\" viewBox=\"0 0 16 16\">\r\n  <path d=\"M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z\"/>\r\n  </Svg>\r\n);\r\n\r\nexport const ThreeDotsVerticalIcon = ({ color, sm }) => (\r\n  <Svg \r\n      color={color}\r\n      sm={sm}\r\n      xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-three-dots-vertical\" viewBox=\"0 0 16 16\">\r\n      <path d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\r\n    </Svg>\r\n);\r\n\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { LoadingIcon } from \"./Icons\";\r\n\r\nconst rotateABD = keyframes`\r\n  from {\r\n    transform: rotate(-360deg);\r\n  }\r\n\r\n  to {\r\n    transform: rotate(0deg);\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  svg {\r\n    fill: ${(props) => props.theme.accentColor};\r\n    width: 34px;\r\n    height: 34px;\r\n    position: absolute;\r\n    top: 60%;\r\n    left: 43%;\r\n    opacity: 0.8;\r\n    transform: translateX(-50%) translateY(-50%);\r\n    animation: ${rotateABD} 2s linear infinite;\r\n  }\r\n`;\r\n\r\nconst Loader = () => (\r\n  <Wrapper>\r\n    <LoadingIcon />\r\n  </Wrapper>\r\n);\r\nexport default Loader;","const resources = {\r\n    node : {\r\n            names : {\r\n                dpeep : \"dpeep\",\r\n                profile : \"profile\",\r\n                people: \"people\",\r\n                peopleMetadata: \"peopleMetadata\",\r\n                tweet: \"tweet\",\r\n                tweets: \"tweets\",\r\n                tweetsMetadata: \"tweetsMetadata\",\r\n                relationships: \"relationships\",\r\n                relationshipsMetadata: \"relationshipsMetadata\",\r\n                replys: \"replys\",\r\n                claims: \"claims\",\r\n                claimsMetadata: \"claimsMetadata\",\r\n                distrust: \"distrust\",\r\n                confirm: \"confirm\",\r\n                reject: \"reject\",\r\n                trusted: \"trusted\",\r\n                distrusted: \"distrusted\",\r\n                latest: \"latest\",\r\n                delete: \"delete\",\r\n                next: \"next\",\r\n                comments: \"comments\",\r\n                userIndex: \"userIndex\",\r\n                trust: \"trust\",\r\n                follow : \"follow\",\r\n                neutral: \"neutral\",\r\n                mute: \"mute\",\r\n                block: \"block\"\r\n\r\n            },\r\n            envelope: {\r\n                _id: undefined,\r\n                _sig: undefined\r\n            },\r\n            tweet : {\r\n                text : '',\r\n                tags : '',\r\n            },\r\n            comment : {\r\n                //id hash of data\r\n                text: '',\r\n                tags : undefined,\r\n                createdAt: undefined\r\n            },\r\n            profile : {\r\n                handle : undefined,\r\n                displayname : undefined,\r\n                coverPhoto: undefined,\r\n                avatar: undefined,\r\n                bio : undefined,\r\n                location: undefined,\r\n                website : undefined,\r\n                dob : undefined\r\n            \r\n            \r\n            }\r\n    }\r\n}\r\n\r\nexport default resources;","import sea from 'gun/sea';\r\n\r\nexport const sha256 = async (data) => await sea.work(data, undefined, undefined, { name: 'SHA-256' });\r\n\r\nexport const sha256_Of_Object = async (data) => {\r\n\r\n    const sortedData = JSON.stringify(data, Object.keys(data).filter(key => key[0] !== '_').sort());\r\n\r\n    return await sha256(sortedData);\r\n} \r\n\r\n","export class DispatcherEvent {\r\n    constructor(eventName) {\r\n        this.eventName = eventName;\r\n        this.callbacks = [];\r\n    }\r\n\r\n    registerCallback(callback) {\r\n        this.callbacks.push(callback);\r\n    }\r\n\r\n    unregisterCallback(callback) {\r\n        const index = this.callbacks.indexOf(callback);\r\n        if (index > -1) {\r\n            this.callbacks.splice(index, 1);\r\n        }\r\n    }\r\n\r\n     fire(data) {\r\n        const callbacks = this.callbacks.slice(0);\r\n        callbacks.forEach((callback) => {\r\n            callback(data);\r\n        });\r\n    }\r\n}","import { DateTree } from \"gun-util\";\r\nimport { DispatcherEvent } from \"./DispatcherEvent\";\r\nimport resources from \"./resources\";\r\n\r\nexport class UserContainer {\r\n\r\n    constructor(gunUser) {\r\n\r\n        let pub = (gunUser.is) ? gunUser.is.pub : gunUser[\"_\"][\"soul\"];\r\n        this.id = (pub[0] === '~') ? pub.substring(1) : pub;\r\n        this.nodeId = (pub[0] !== '~') ?  '~'+pub : pub;\r\n\r\n        const dpeep = gunUser.get(resources.node.names.dpeep);\r\n        const profile = dpeep.get(resources.node.names.profile);\r\n        // The DateTree root has to be clean of other properties not related to DateTree. Or iteration will fail etc.\r\n        const tweets = new DateTree(dpeep.get(resources.node.names.tweets), 'millisecond');\r\n        const tweetsMetadata = dpeep.get(resources.node.names.tweetsMetadata);\r\n\r\n        const comments = new DateTree(dpeep.get(resources.node.names.comments), 'millisecond');\r\n        const commentsMetadata = dpeep.get(resources.node.names.commentsMetadata);\r\n\r\n        const relationships = dpeep.get(resources.node.names.relationships);\r\n        const relationshipsMetadata = dpeep.get(resources.node.names.relationshipsMetadata);\r\n\r\n        const claims = new DateTree(dpeep.get(resources.node.names.claims), 'month'); // Combine all claims into one month batch, estimated best performance (It's a guess). \r\n        const claimsMetadata = dpeep.get(resources.node.names.claimsMetadata);\r\n\r\n        this.node = {\r\n            user: gunUser,\r\n            tweets,\r\n            tweetsMetadata,\r\n            comments,\r\n            commentsMetadata,\r\n            profile,\r\n            dpeep,\r\n            relationships,\r\n            relationshipsMetadata,\r\n            claims,\r\n            claimsMetadata\r\n        };\r\n\r\n        this.relationshipBy = [];\r\n        this.relationships = {};\r\n        this.relationshipChanged = 0;\r\n        this.scores = [];\r\n        this.score = null;\r\n        this.onScoreChange = new DispatcherEvent(\"onScoreChange\");\r\n        this.state = this.createScore();\r\n        this.onStateChange = new DispatcherEvent(\"onStateChange\");\r\n        this.onChange = new DispatcherEvent(\"onChange\");\r\n        this.onProfileChange = new DispatcherEvent(\"onProfileChange\");\r\n        this.degree = UserContainer.MAX_DEGREE; // The degree relative to the current user.\r\n    }\r\n\r\n    static MAX_DEGREE = 99; // Make the degree high, so when a relationship is added it will get lower. \r\n\r\n    emptyScoreObj() {\r\n        return {\r\n            trust: 0,\r\n            follow: 0,\r\n            neutral: 0,\r\n            mute: 0,\r\n            block: 0\r\n            }\r\n    };\r\n\r\n\r\n    // Degree parameter is the source user's degree. \r\n    addScore(relationship, degree) {\r\n        if(!this.scores[degree]) \r\n            this.scores[degree] = this.emptyScoreObj();\r\n\r\n        this.scores[degree][relationship.action] += 1;\r\n        this.onScoreChange.fire({user:this, degree, relationship });\r\n\r\n        // if(this.degree > degree) // Only calculate score when the added relationship is relevant to the lowest degree.\r\n        //     this.calculateScore();\r\n    }\r\n\r\n    removeScore(relationship, degree) {\r\n        if(!this.scores[degree]) \r\n            return;\r\n\r\n        this.scores[degree][relationship.action] -= 1;\r\n        this.onScoreChange.fire({user:this, degree, action:relationship.action, score:this.scores[degree] });\r\n\r\n        // if(this.degree > degree) // Only calculate score when the removed relationship is relevant to the lowest degree.\r\n        //     this.calculateScore();\r\n    }\r\n\r\n    createScore (val) {\r\n        return Object.assign({ score: 0, weight:0, color: \"\", action:resources.node.names.neutral }, val);\r\n    }\r\n\r\n    // Scores takes precendence in following order: trust, follow, mute, block.\r\n    // E.g. Are the score equally between one or more scores, then the precendence order kicks in.\r\n    getStates(score) {\r\n        let states = [\r\n            { score: score.trust, weight:score.trust+0.4, color: \"purple\", action: resources.node.names.trust },\r\n            { score: score.follow, weight:score.follow+0.3, color: \"green\", action: resources.node.names.follow },\r\n            { score: score.mute, weight:score.mute+0.2, color: \"yellow\", action: resources.node.names.mute },\r\n            { score: score.block, weight:score.block+0.1, color: \"black\", action: resources.node.names.block },\r\n            { score: score.neutral, weight:0,  color: \"\", action: resources.node.names.neutral }\r\n        ];\r\n        return states;\r\n    }\r\n\r\n    getReduceRelationshipBy() {\r\n        const find = (arr, element, index) => {\r\n            arr.push({ index, element });\r\n            return arr;\r\n        }\r\n        return this.relationshipBy.reduce(find, []);\r\n    }\r\n\r\n    calculateScore() {\r\n        let event = { user: this, change: false };\r\n\r\n        const findScores = (a, e, i) => {\r\n            a.push({ i, e });\r\n            return a;\r\n        }\r\n        let tempList = this.scores.reduce(findScores, []);\r\n\r\n        let firstScore = tempList.find(x=> x !== undefined && x.e !== undefined && (x.e.trust > 0 || x.e.follow > 0 || x.e.mute > 0 || x.e.block > 0));\r\n        if(firstScore) {\r\n            let states = this.getStates(firstScore.e);\r\n            let firstState = states.sort((a, b) => b.weight - a.weight)[0];\r\n            if(firstState.action !== this.state.action || firstScore.i+1 !== this.degree ) {\r\n                this.score = firstScore.e;\r\n                this.degree = firstScore.i+1; // The user degree is always one higher than the lowest degree of relationships.\r\n                event.previousState = this.state;\r\n                event.change = true;\r\n                this.state = firstState;\r\n                this.onStateChange.fire(event);\r\n            }\r\n        } else {\r\n            this.score = this.emptyScoreObj();\r\n            this.degree = UserContainer.MAX_DEGREE;\r\n            event.previousState = this.state;\r\n            event.change = true;\r\n            this.state = this.createScore();\r\n            this.onStateChange.fire(event);\r\n        }\r\n\r\n        return event;\r\n    }\r\n\r\n\r\n    // oldDegree is the sourcesUser's old degree if changed from the current one, this is used to remove the old relationship.\r\n    addRelationship(relationship, sourceUser, oldDegree) {\r\n        let event = { change: false };\r\n        //let rcopy = Object.assign({}, relationship); // Copy the relationship to avoid binding to GUN\r\n        const degree = (oldDegree) ? oldDegree : sourceUser.degree; // Find source users degree for removing relationship\r\n        if (!this.relationshipBy[degree]) this.relationshipBy[degree] = {};\r\n\r\n        let oldRelationship = this.relationshipBy[degree][sourceUser.id];\r\n\r\n        if(oldRelationship === relationship) \r\n            return event;\r\n\r\n        if(oldRelationship) {\r\n            delete this.relationshipBy[degree][sourceUser.id];\r\n            this.removeScore(oldRelationship, degree);\r\n        }\r\n\r\n        // Neutral relationship do not get added, as they are null/cancel objects.\r\n        if(relationship.action !== resources.node.names.neutral) {\r\n            this.relationshipBy[sourceUser.degree][sourceUser.id] = relationship; \r\n            this.addScore(relationship, sourceUser.degree);\r\n        }\r\n\r\n        // Only calculate score when the added relationship is relevant to the lowest degree.\r\n        // If this.degree is lower or equal to the added relationship degree, then the added relationship is not relevant for the calculation of score.\r\n        if(this.degree > degree)  // degree is per default always 1 lower than this.degree.\r\n            event = this.calculateScore();\r\n\r\n        return event;\r\n\r\n    }\r\n\r\n    static getDefaultProfile(userid, profile) {\r\n        const handle = (profile && profile.handle) || `${userid.substring(0,4)}...${userid.substring(userid.length - 4, userid.length)}`;\r\n        const displayname =(profile &&  profile.displayname) || \"Anonymous\";\r\n        return { userid, handle, displayname, loaded: false };\r\n      }\r\n\r\n    loadProfile(cb) {\r\n\r\n        if (!this.profile) {\r\n            const preProfile = UserContainer.getDefaultProfile(this.id, null);\r\n            this.profile = Object.assign({}, resources.node.profile, preProfile);\r\n        }\r\n\r\n        if (cb && !this.profile.loaded) {\r\n            this.node.profile.once((val) => {\r\n                this.profile = Object.assign({}, this.profile, val); // Create a new object, that will trigger rerender on React\r\n                this.profile.loaded = true;\r\n                cb(this.profile);\r\n            });\r\n        }\r\n        return this.profile;\r\n\r\n    }\r\n\r\n    setAction(targetUser, action) {\r\n        //this.node.relationships.get(targetUser.nodeId).get('action').put(action.name);\r\n        this.node.relationships.get('~'+targetUser.id).put(action);\r\n    }\r\n\r\n    loadProfile2(cb) {\r\n\r\n        let profile = this._profile;\r\n\r\n        return profile;\r\n\r\n    }\r\n\r\n\r\n    // get profile2() {\r\n    //     if (!this._profile) {\r\n    //         const preProfile = UserContainer.getDefaultProfile(this.id, null);\r\n    //         this._profile = Object.assign({}, resources.node.profile, preProfile);\r\n    //     }\r\n\r\n    //     if (this._profile.loaded < 1) { // No gun call have been made yet.\r\n    //         this.node.profile.once((val) => {\r\n    //             this._profile = Object.assign({}, this._profile, val); // Create a new object, that will trigger rerender on React\r\n    //             this._profile.loaded = 2;\r\n    //         });\r\n    //     }\r\n        \r\n    //     return this._profile;\r\n    // }\r\n    \r\n    // set profile2(profile) {\r\n    //     this._profile = profile;\r\n    // }\r\n\r\n\r\n}","export class Policy {\r\n\r\n    static TweetPolicy = { \r\n        hideDeleted: true,\r\n        hideBlocked: true\r\n    }\r\n\r\n    static addTweet(tweet, user, usersBlock) {\r\n\r\n        const policy = Object.assign(Policy.TweetPolicy, user?.policy);\r\n\r\n        if(tweet?.data?.deleted && policy.hideDeleted)\r\n            return false;\r\n\r\n        if(usersBlock && usersBlock[tweet.owner.id] && policy.hideBlocked)\r\n            return false;\r\n\r\n        // user.policy settings may have other rules.\r\n\r\n        return true;\r\n    }\r\n}","// import { DateTree } from \"gun-util\";\r\n// import { DispatcherEvent } from \"./DispatcherEvent\";\r\n// import resources from \"./resources\";\r\nimport Gun from 'gun/gun';\r\n\r\nexport class TweetContainer {\r\n\r\n    constructor(data, getUser) {\r\n        this.soul = Gun.node.soul(data);\r\n        const soulElem = this.soul.split('/');\r\n        this.userId = soulElem.shift(); // Get user ID, should be the same as Owner\r\n        soulElem.shift(); // Just shift dpeep\r\n        this.category = soulElem.shift(); \r\n\r\n        // Based on DateTime UTC format\r\n        this.id = `${soulElem[0]}-${soulElem[1]}-${soulElem[2]}T${soulElem[3]}:${soulElem[4]}:${soulElem[5]}.${soulElem[6]}Z`\r\n\r\n        this.data = data;\r\n        this.confirmedBy = {};\r\n        if(getUser)\r\n            this.setOwner(getUser);\r\n        \r\n    }\r\n\r\n    setOwner(getUser) {\r\n        this.owner = getUser(this.userId);\r\n    }\r\n\r\n\r\n    get node() {\r\n        return this._node ?? (this._node = this.owner.node.tweets.get(this.id));\r\n    }\r\n    \r\n    set node(node) {\r\n        this._node = node;\r\n    }\r\n\r\n\r\n}","import React, { useEffect, useState, createContext } from 'react';\r\nimport resources from '../utils/resources';\r\nimport Gun from 'gun/gun';\r\nimport sea from 'gun/sea';\r\n// import 'gun/lib/radix';\r\n// import 'gun/lib/radisk';\r\n// import 'gun/lib/store';\r\n// import 'gun/lib/rindexed';\r\nimport 'gun/lib/then';\r\n// import Rad from 'gun/lib/radisk'; \r\n// import Radix from 'gun/lib/radix'; \r\n\r\nimport { sha256 } from '../utils/crypto';\r\nimport { UserContainer } from '../utils/UserContainer';\r\nimport { Policy } from '../utils/Policy';\r\nimport { TweetContainer } from '../utils/TweetContainer';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\n\r\nconst dpeepUserKeys = 'dpeepUserKeys';\r\nconst serverpeers = ['http://localhost:8765/gun'];\r\n\r\n\r\nconst UserContext = createContext(null);\r\nUserContext.displayName = 'userContext';\r\n\r\n\r\nconst UserProvider = (props) => {\r\n\r\n    Gun.on('opt', function (context) {\r\n        if (context.once)\r\n            return\r\n\r\n        // Pass to subsequent opt handlers\r\n        this.to.next(context)\r\n\r\n        const { isValid } = context.opt\r\n\r\n        if (isValid) {\r\n            // Check all incoming traffic\r\n            context.on('in', function (msg) {\r\n                if (msg.put && !isValid(msg))\r\n                    return;\r\n\r\n                this.to.next(msg)\r\n            })\r\n        }\r\n    });\r\n\r\n\r\n\r\n    const [gun] = useState(Gun({ peers: serverpeers, isValid: isValidUser })); //{ peers: serverpeers, localStorage: false }{peers: [\"http://server-ip-or-hostname:8080/gun\"]}\r\n    const [gunUser, setGunUser] = useState(null);\r\n    const [isLoggedIn, setIsLoggedIn] = useState(null);\r\n\r\n    const [authenticate, setAuthenticate] = useState(false);\r\n    const [signedUp, setSignedUp] = useState(false);\r\n    const [user, setUser] = useState(null);\r\n    const [users] = useState({});\r\n    const [usersBlock] = useState({}); // An index of users that are banned to access the local database, avoiding unwanted content.\r\n\r\n    // The feed is global, so its available for build up in the background\r\n    const [feed, setFeed] = useState(null);\r\n    const [feedIndex, setFeedIndex] = useState({});\r\n    const [feedReady] = useState({});\r\n    const [messageReceived, setMessageReceived] = useState(null);\r\n\r\n\r\n    // Verify that a user is not banned from adding data into local database.\r\n    function isValidUser(msg) {\r\n        let userId = Object.keys(msg.put).filter(k => k[0] === '~').map(k => k.split('/').shift()).shift();\r\n        if (userId && usersBlock[userId])\r\n            return false;\r\n\r\n        return true;\r\n    }\r\n\r\n    // // Clear out the content from a user in the local Database, avoiding unwanted content.\r\n    // const removeUserFromLocalDB = React.useCallback(\r\n    //     async (userId) => {\r\n    //         var rad = Rad();\r\n    //         rad(userId, function(err, tree, info){\r\n    //           Radix.map(tree, function(value, key){\r\n    //             rad(key, null);\r\n    //           });\r\n    //         });\r\n    //     },\r\n    //     []\r\n    // );\r\n\r\n    const login = React.useCallback(\r\n        async (keys) => {\r\n            gun.user().auth(keys);\r\n            sessionStorage.setItem(dpeepUserKeys, JSON.stringify(keys));\r\n\r\n            return { success: true, msg: 'Is authenticating', keyPair: keys };\r\n        },\r\n        [gun]\r\n    );\r\n\r\n    const loginPassword = React.useCallback(\r\n        async (username, password) => {\r\n\r\n            const passwordString = username + password;\r\n            const keyHash = await sha256(passwordString);\r\n            const encryptedstring = localStorage.getItem(keyHash);\r\n\r\n            if (!encryptedstring)\r\n                return { success: false, msg: 'Unknown user or missing key pair. Try signup.' };\r\n\r\n            const keyPair = await sea.decrypt(encryptedstring, passwordString);\r\n            if (!keyPair)\r\n                return { success: false, msg: 'Decryption of key pair failed' };\r\n\r\n            return await login(keyPair);\r\n        },\r\n        [login]\r\n    );\r\n\r\n    const signup = React.useCallback(\r\n        async (username, password) => {\r\n\r\n            // Check first if the user already exist, and then auto login \r\n            const ack = await loginPassword(username, password);\r\n            if (ack.sucess) // Login success, now return keypair \r\n                return ack;\r\n\r\n            // There is no user, therefore create a new keyPair\r\n            const passwordString = username + password;\r\n            const keyHash = await sha256(passwordString);\r\n            const keyPair = await sea.pair();\r\n            const encryptedString = await sea.encrypt(JSON.stringify(keyPair), passwordString);\r\n            localStorage.setItem(keyHash, encryptedString);\r\n\r\n            return login(keyPair);\r\n        },\r\n        [login, loginPassword]\r\n    );\r\n\r\n    const logout = React.useCallback(() => {\r\n        gunUser.leave();\r\n\r\n        sessionStorage.setItem(dpeepUserKeys, '');\r\n        setGunUser(null);\r\n        setIsLoggedIn(false);\r\n        setUser(null);\r\n        setFeed([]);\r\n        setFeedIndex({});\r\n        setAuthenticate(false);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [gunUser]);\r\n\r\n\r\n\r\n\r\n\r\n    const getUserContainer = React.useCallback(\r\n        (gunUser) => {\r\n\r\n            let userContainer = new UserContainer(gunUser);\r\n\r\n            let pubId = userContainer.id;\r\n            users[pubId] = userContainer;\r\n\r\n            return userContainer;\r\n        },\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n        [users]\r\n    );\r\n\r\n    const getUserContainerById = React.useCallback(\r\n        (pubId) => {\r\n            if (pubId[0] === '~')\r\n                pubId = pubId.substring(1);\r\n\r\n            const user = users[pubId];\r\n            if (user && user.node) return user; // Just return an exiting container is exist and node is set\r\n\r\n            const gunUser = gun.user(pubId);\r\n\r\n            return getUserContainer(gunUser); // Create a new one\r\n        },\r\n        [gun, users, getUserContainer]\r\n    );\r\n\r\n\r\n    const userSignUp = React.useCallback(\r\n        async (signedUpData) => {\r\n            if (isLoggedIn)\r\n                return;\r\n\r\n            signup(signedUpData.handle, signedUpData.password);\r\n            signedUpData.password = null;\r\n\r\n            setSignedUp(true);\r\n            //setSignedUpData(signedUpData); // Save data for when ready to update the user profile.\r\n        },\r\n        [isLoggedIn, signup, setSignedUp]\r\n    );\r\n\r\n    const followUser = React.useCallback(async (pubId) => {\r\n        if (!isLoggedIn || user === null) return;\r\n\r\n        user.followNode.get(pubId).put(gun.user(pubId));\r\n\r\n    }, [isLoggedIn, user, gun]);\r\n\r\n    // const loadProfile = React.useCallback(\r\n    //     (user, cb) => {\r\n\r\n    //         if (!user.profile) {\r\n    //             const preProfile = {\r\n    //                 handle: `${user.id.substring(0, 4)}...${user.id.substring(user.id.length - 4, user.id.length)}`,\r\n    //                 username: 'Anonymous',\r\n    //                 auto: true\r\n    //             };\r\n\r\n    //             user.profile = Object.assign({}, resources.node.profile, preProfile);\r\n    //         }\r\n    //         if (cb && user.profile.auto) {\r\n    //             user.profile.auto = false;\r\n    //             user.node.profile.once((val) => {\r\n    //                 user.profile = Object.assign({}, user.profile, val);\r\n    //                 cb(user.profile);\r\n    //             });\r\n    //         }\r\n    //         return user.profile;\r\n    //     },\r\n    //     []\r\n    // );\r\n\r\n    // On call back,  data, key,\r\n\r\n\r\n    // Methods ----------------------------------------------------------------------\r\n\r\n    // eslint-disable-next-line no-unused-vars\r\n    const removeFromFeed = React.useCallback((soul, key) => {\r\n        if (!soul) // Data is null, we need to remove it from feed!? But what id?\r\n            return false;\r\n\r\n        if (!feedIndex[soul])\r\n            return false;\r\n\r\n        delete feedIndex[soul];\r\n        delete feedReady[soul];\r\n        setMessageReceived(soul);\r\n\r\n        return true;\r\n\r\n    }, [feedReady, feedIndex]); // User here is the viewer\r\n\r\n\r\n    const addFeed = React.useCallback((data, key, _msg, _ev) => {\r\n        if (!data) // Data is null, we need to remove it from feed!? But what id?\r\n            return;\r\n\r\n        const item = new TweetContainer(data, getUserContainerById);\r\n\r\n        if(Policy.addTweet(item, user, null)) // Check with the policy before adding to feed.\r\n        {\r\n            if (feedIndex[item.soul])\r\n                return true;\r\n\r\n            feedIndex[item.soul] = item; // Use index, so the data only gets added to the feed once.\r\n            feedReady[item.soul] = item;\r\n        }\r\n        else {\r\n            // The policy is to exclude the tweet, therefore remove it if already exist.\r\n            removeFromFeed(item.soul, null);\r\n        }\r\n\r\n        setMessageReceived(item.soul);\r\n        return true;\r\n\r\n    }, [feedIndex, feedReady, getUserContainerById, removeFromFeed, user]); // User here is the viewer\r\n\r\n    // Max degree is the number of degrees out the trust will be followed\r\n    // First degree, people that loggedInUser is trusting. \r\n    // Second degree is people of trusted people that loggedInUser is trusting.\r\n    async function initializeRelationships(loggedInUser, maxDegree = 2) {\r\n        console.log(`Subscribing to users Trust - GUN Style`);\r\n        //const userFound = {}; // Make sure only to process the user once.\r\n\r\n        console.log(\"initializeRelationships: \" + loggedInUser.id);\r\n        // Get a slim user object and not the full container \r\n        const getItem = (key) => feedIndex[key] || (feedIndex[key] = { claimedBy: {} });\r\n\r\n        function addClaim(claim, key, user, localDegree) {\r\n            const item = getItem(key);\r\n            claim.localDegree = localDegree;\r\n            item.claimedBy[user.id] = claim;\r\n            user.claims[key] = claim;\r\n        }\r\n\r\n        // TODO: The cascading effect of Trust and Untrust, needs to be done.\r\n        async function unloadClaims(targetUser) {\r\n\r\n            // Remove the trust from TargetUser on all items.\r\n            for (const [key,] of Object.entries(user.claims)) {\r\n                let item = getItem(key);\r\n                delete item.claimedBy[targetUser.id];\r\n                item.claimsChanged = true;\r\n            }; // Remove all claims\r\n\r\n            // TODO: Subscibetion should be recorded, so its possible to unsubscribe again.\r\n            // Current month and last month. \r\n            var search = {\r\n                gte: moment().add(-2, 'month').format(\"YYYY-MM-DD\"),\r\n                lt: moment().add(1, 'month').format(\"YYYY-MM-DD\"),\r\n                order: -1\r\n            }\r\n\r\n            const claimTree = targetUser.node.claims; // relationships is of Type DateTree\r\n\r\n            for await (let [month] of claimTree.iterate(search)) {\r\n                month.off();\r\n            }\r\n        }\r\n\r\n        // Most tweets are only looked at within a few days.\r\n        // This makes it unnecessary to load all claims from a single user from all time.\r\n        // The claims can be added on the month node and on a tweet based node. \r\n        async function loadClaims(targetUser) {\r\n            const claimTree = targetUser.node.claims; // relationships is of Type DateTree\r\n\r\n            // Current month and last month.\r\n            var search = {\r\n                gte: moment().add(-2, 'month').format(\"YYYY-MM-DD\"),\r\n                lt: moment().add(1, 'month').format(\"YYYY-MM-DD\"),\r\n                order: -1\r\n            }\r\n\r\n            for await (let [month] of claimTree.iterate(search)) {\r\n                month.map().on((claim, key) => {\r\n                    addClaim(claim, key, targetUser, targetUser.degree);\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n\r\n        function isTrust(event) {\r\n            return event.previousState.action !== resources.node.names.trust\r\n                && event.user.state.action === resources.node.names.trust;\r\n        }\r\n\r\n        function isUntrust(event) {\r\n            return event.previousState.action === resources.node.names.trust\r\n                && event.user.state.action !== resources.node.names.trust;\r\n        }\r\n\r\n        function isFollow(event) {\r\n            return event.previousState.action !== resources.node.names.follow\r\n                && event.user.state.action === resources.node.names.follow;\r\n        }\r\n\r\n        function isUnfollow(event) {\r\n            return event.previousState.action === resources.node.names.follow\r\n                && event.user.state.action !== resources.node.names.follow;\r\n        }\r\n\r\n        function isMute(event) {\r\n            return event.previousState.action !== resources.node.names.mute\r\n                && event.user.state.action === resources.node.names.mute;\r\n        }\r\n\r\n        function isUnmute(event) {\r\n            return event.previousState.action === resources.node.names.mute\r\n                && event.user.state.action !== resources.node.names.mute;\r\n        }\r\n\r\n        function isBlock(event) {\r\n            return event.previousState.action !== resources.node.names.block \r\n                && event.user.state.action === resources.node.names.block;\r\n        }\r\n\r\n        function isUnblock(event) {\r\n            return event.previousState.action === resources.node.names.block\r\n                && event.user.state.action !== resources.node.names.block;\r\n        }\r\n\r\n        function followUser(targetUser) {\r\n            targetUser.node.tweetsMetadata.get(resources.node.names.latest).on(addFeed); // Load the latest tweet from the user.\r\n        }\r\n\r\n        function unfollowUser(targetUser) {\r\n            targetUser.node.tweetsMetadata.get(resources.node.names.latest).off(); // Unfollow target user.\r\n        }\r\n\r\n        function trustUser(targetUser) {\r\n            followUser(targetUser);\r\n\r\n            targetUser.node.claimsMetadata.get(resources.node.names.latest).on((v, k) => addClaim(v, k, targetUser, targetUser.degree)); // Load the latest tweet from the user.\r\n            // Load claims first async!\r\n            loadClaims(targetUser);\r\n\r\n            load(targetUser);\r\n        }\r\n\r\n        function untrustUser(targetUser) {\r\n            unfollowUser(targetUser);\r\n\r\n            targetUser.node.claimsMetadata.get(resources.node.names.latest).off();\r\n            targetUser.processed = false;\r\n            unloadClaims(targetUser);\r\n        }\r\n\r\n        function processEvent(event, targetUser, currentUser) {\r\n            if(isUnfollow(event)) {\r\n                unfollowUser(targetUser);\r\n            }\r\n\r\n            if(isFollow(event)) {\r\n                followUser(targetUser);\r\n            }\r\n            \r\n            if(isTrust(event)) {\r\n                trustUser(targetUser);\r\n            }\r\n            \r\n            if(isUntrust(event)) {\r\n                untrustUser(targetUser);\r\n            }\r\n\r\n            if(isUnmute(event)) {\r\n                if(loggedInUser.id === currentUser.id) // Only unblock user, if the mute is from the logginInUser.\r\n                    delete usersBlock[targetUser.id]; \r\n            }\r\n\r\n            if(isMute(event)) {\r\n                if(loggedInUser.id === currentUser.id) // Only block user, if the mute is from the logginInUser.\r\n                    usersBlock[targetUser.id] = true; \r\n            }\r\n\r\n            if(isUnblock(event)) {\r\n                delete usersBlock[targetUser.id];\r\n            }\r\n\r\n            if(isBlock(event)) {\r\n                usersBlock[targetUser.id] = true; \r\n            }\r\n        }\r\n\r\n        async function load(currentUser) {\r\n            console.log(\"initializeRelationships - load: \" + currentUser.id);\r\n\r\n            if (currentUser.degree > maxDegree)\r\n                return; // Exit as the search ends here\r\n\r\n            if(currentUser.processed)\r\n                return; // Exit as the current user already has its relationships processed.\r\n\r\n            currentUser.processed = true; // Do not processed this user next time\r\n\r\n            // Load relationships - map() automatically subscibes to changes in the relationship node\r\n            currentUser.node.relationships.map().on((relationshipGun, key) => {\r\n                if (key[0] !== '~') return; // Ignore noise data from the relationships node, only process users.\r\n\r\n                // Copy the relationship, as the source object is updated automatically by Gun on change, making detecting changes impossible.\r\n                const relationship = Object.assign({}, relationshipGun); \r\n\r\n                const targetUser = getUserContainerById(key);\r\n\r\n                const event = targetUser.addRelationship(relationship, currentUser, undefined);\r\n                currentUser.relationships[targetUser.id] = relationship; // Save the relationship to the current user as well.\r\n\r\n                if(event.change) {  // Something new happened, lets check it out.\r\n                    processEvent(event, targetUser, currentUser);\r\n                }\r\n            });\r\n        }\r\n\r\n        // Subscribe to one self and start loading the web of trust network\r\n        loggedInUser.degree = 0; // logginInUser is always zero degree as the focus point.\r\n        trustUser(loggedInUser);\r\n    }\r\n\r\n\r\n    const resetFeedReady = React.useCallback(() => {\r\n        Object.keys(feedReady).forEach(p => delete feedReady[p]);\r\n        setMessageReceived(null);\r\n    }, [feedReady]);\r\n\r\n\r\n\r\n    const onAuth = React.useCallback(async () => {\r\n        setIsLoggedIn(true);\r\n        const user = gun.user();\r\n        setGunUser(user);\r\n\r\n        const userContainer = getUserContainer(user); // Load currently loggin user\r\n        // Load the profile on to dpeepUser\r\n        userContainer.loadProfile();\r\n        setUser(userContainer);\r\n        //initializeFeed(userContainer);\r\n        initializeRelationships(userContainer);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [setIsLoggedIn, setGunUser, getUserContainer, setUser]); //, initializeFeed\r\n\r\n\r\n    const loadFeed = React.useCallback(() => {\r\n        let temp = feed || [];\r\n\r\n        const items = Object.values(feedReady);\r\n        if (items.length > 0) {\r\n            setFeed([...items, ...temp]); // Simply copy ready feed, more advanced sorting on date etc. may be implemented.\r\n            resetFeedReady();\r\n            return true;\r\n        }\r\n\r\n        if (feed)  // No new messages but we have a feed already\r\n            return true;\r\n\r\n        return false;\r\n    }, [feed, feedReady, setFeed, resetFeedReady]);\r\n\r\n    // UseEffects --------------------------------------------------------------------------------------------\r\n\r\n    gun.on('auth', async () => {\r\n        setAuthenticate(true);\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        if (authenticate) {\r\n            (async () => {\r\n                onAuth();\r\n            })();\r\n        }\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [authenticate])\r\n\r\n\r\n    // Signup effect, register at the userIndex that we exist.\r\n    useEffect(() => {\r\n        if (!signedUp || !isLoggedIn || !user) return;\r\n\r\n        gun.get(resources.node.names.dpeep).get(resources.node.names.userIndex).get(user.id).put(user.node.user);\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [signedUp, isLoggedIn, user]);\r\n\r\n\r\n    // One time only effect \r\n    useEffect(() => {\r\n        if (isLoggedIn) {\r\n            console.log(`User loggedIn`);\r\n            return;\r\n        }\r\n\r\n        // Auto signin the user if keys exist in sessionStorage\r\n        const keysString = sessionStorage.getItem(dpeepUserKeys);\r\n        if (keysString && keysString.length > 2) {\r\n            const keys = JSON.parse(keysString);\r\n            if (keys)\r\n                login(keys);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    const value = React.useMemo(\r\n        () => ({\r\n            user, gun, isLoggedIn, feed, feedIndex, feedReady, messageReceived, userSignUp, loginPassword,\r\n            logout, setFeed, getUserContainerById,\r\n            followUser, setMessageReceived, resetFeedReady, loadFeed,\r\n            \r\n        }),\r\n        [\r\n            user, gun, isLoggedIn, feed, feedIndex, feedReady, messageReceived,\r\n            userSignUp, loginPassword, logout, setFeed, getUserContainerById,\r\n            followUser, setMessageReceived, resetFeedReady, loadFeed,\r\n             \r\n        ]\r\n    );\r\n\r\n    return <UserContext.Provider value={value} {...props} />;\r\n};\r\n\r\nexport { UserProvider, UserContext };","import React from 'react';\r\nimport { UserContext } from '../context/userContext';\r\n\r\nfunction useUser() {\r\n    const context = React.useContext(UserContext);\r\n    if (context === undefined) {\r\n      throw new Error(`useUser must be used within a UserProvider`);\r\n    }\r\n    return context;\r\n  }\r\n\r\nexport default useUser;","import React, { useState, useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { lightTheme, darkTheme } from \"../../styles/themes\";\r\nimport { ThemeIcon } from \"../Icons\";\r\n\r\nexport const Wrapper = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n  margin-left: 0.7rem;\r\n  margin-bottom: 1rem;\r\n  cursor: pointer;\r\n\r\n  p {\r\n    margin-left: 0.4rem;\r\n  }\r\n`;\r\n\r\nconst ToggleTheme = () => {\r\n  const localSt = localStorage.getItem(\"theme\");\r\n  const [currentTheme, setCurrentTheme] = useState(localSt ? localSt : \"light\");\r\n\r\n  const { theme, setTheme } = useContext(ThemeContext);\r\n\r\n  const toggleTheme = () => {\r\n    if (currentTheme === \"dark\") {\r\n      setTheme((theme) => ({\r\n        ...theme,\r\n        ...lightTheme,\r\n      }));\r\n      localStorage.setItem(\"theme\", \"light\");\r\n      setCurrentTheme(\"light\");\r\n    } else {\r\n      setTheme((theme) => ({\r\n        ...theme,\r\n        ...darkTheme,\r\n      }));\r\n      localStorage.setItem(\"theme\", \"dark\");\r\n      setCurrentTheme(\"dark\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper onClick={toggleTheme}>\r\n      <ThemeIcon sm color={theme.accentColor} />\r\n      <p>Theme</p>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ToggleTheme;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n  margin-left: 0.7rem;\r\n  margin-bottom: 1rem;\r\n  cursor: pointer;\r\n\r\n  p {\r\n    margin-left: 0.4rem;\r\n  }\r\n`;\r\n","import React, { useContext } from \"react\";\r\nimport { SettingsIcon } from \"../Icons\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport MenuButton from \"../../styles/MenuButton\";\r\n\r\n\r\nconst SettingsMenuButton = () => {\r\n\tconst { theme } = useContext(ThemeContext);\r\n\r\n\treturn (\r\n\t\t<NavLink activeClassName=\"\" to=\"/settings\">\r\n\t\t\t<MenuButton>\r\n\t\t\t\t<SettingsIcon sm color={theme.accentColor} />\r\n\t\t\t\t<p>Settings</p>\r\n\t\t\t</MenuButton>\r\n\t\t</NavLink>\r\n\t);\r\n};\r\n\r\nexport default SettingsMenuButton;\r\n","import React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { HomeIcon } from \"../Icons\";\r\n//import { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { Wrapper } from \"./ToggleTheme\";\r\nimport useUser from '../../hooks/useUser';\r\n\r\n\r\nconst Logout = () => {\r\n\t//const { theme } = useContext(ThemeContext);\r\n\tconst { logout } = useUser();\r\n\t\r\n\tconst handleLogout = () => {\r\n\t\tlogout();\r\n\t\ttoast.success(\"You are logged out\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Wrapper onClick={handleLogout}>\r\n\t\t\t<HomeIcon />\r\n\t\t\t{/* UserIcon sm color={theme.accentColor} /> */}\r\n\t\t\t<p>Logout</p>\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nexport default Logout;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { ColorIcon } from \"../Icons\";\r\nimport { Wrapper } from \"./ToggleTheme\";\r\n\r\nconst ChangeColor = () => {\r\n  const { theme, setTheme } = useContext(ThemeContext);\r\n\r\n  const colors = [\r\n    \"#CA2055\",\r\n    \"#1DA1F2\",\r\n    \"#FFAD1F\",\r\n    \"#794BC4\",\r\n    \"#F45D22\",\r\n    \"#17BF63\",\r\n  ];\r\n\r\n  const [currentColor, setCurrentColor] = useState(colors[0]);\r\n\r\n  const handler = () => {\r\n    let newAccentColor;\r\n\r\n    if (colors.indexOf(currentColor) === colors.length - 1) {\r\n      newAccentColor = colors[0];\r\n    } else {\r\n      newAccentColor = colors[colors.indexOf(currentColor) + 1];\r\n    }\r\n\r\n    setTheme({\r\n      ...theme,\r\n      accentColor: newAccentColor,\r\n    });\r\n\r\n    setCurrentColor(newAccentColor);\r\n  };\r\n\r\n  return (\r\n    <Wrapper onClick={handler}>\r\n      <ColorIcon sm color={theme.accentColor} />\r\n      <p>Color</p>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ChangeColor;","import React, { useContext } from \"react\";\r\nimport { ThemeContext } from \"../context/ThemeContext\";\r\nimport styled from \"styled-components\";\r\nimport Popup from \"reactjs-popup\";\r\nimport Svg from \"../styles/Svg\";\r\nimport ToggleTheme from \"./MenuItems/ToggleTheme\";\r\nimport Settings from \"./MenuItems/SettingsMenuButton\";\r\nimport Logout from \"./MenuItems/Logout\";\r\nimport ChangeColor from \"./MenuItems/ChangeColor\";\r\n\r\nconst Wrapper = styled.div`\r\n  .btn {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst MoreBtn = React.forwardRef(({ open, ...props }, ref) => {\r\n  return (\r\n    <div ref={ref} {...props}>\r\n      <Svg viewBox=\"0 0 24 24\">\r\n        <g>\r\n          <path d=\"M16.5 10.25c-.965 0-1.75.787-1.75 1.75s.784 1.75 1.75 1.75c.964 0 1.75-.786 1.75-1.75s-.786-1.75-1.75-1.75zm0 2.5c-.414 0-.75-.336-.75-.75 0-.413.337-.75.75-.75s.75.336.75.75c0 .413-.336.75-.75.75zm-4.5-2.5c-.966 0-1.75.787-1.75 1.75s.785 1.75 1.75 1.75 1.75-.786 1.75-1.75-.784-1.75-1.75-1.75zm0 2.5c-.414 0-.75-.336-.75-.75 0-.413.337-.75.75-.75s.75.336.75.75c0 .413-.336.75-.75.75zm-4.5-2.5c-.965 0-1.75.787-1.75 1.75s.785 1.75 1.75 1.75c.964 0 1.75-.786 1.75-1.75s-.787-1.75-1.75-1.75zm0 2.5c-.414 0-.75-.336-.75-.75 0-.413.337-.75.75-.75s.75.336.75.75c0 .413-.336.75-.75.75z\"></path>\r\n          <path d=\"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z\"></path>\r\n        </g>\r\n      </Svg>\r\n      <span className=\"btn\">More</span>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst MorePopup = () => {\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  const contentStyle = {\r\n    width: \"160px\",\r\n    background: theme.background,\r\n    borderRadius: \"6px\",\r\n    border: `1px solid ${theme.tertiaryColor}`,\r\n    boxShadow: theme.bs1,\r\n  };\r\n\r\n  const overlayStyle = {\r\n    background: \"none\",\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Popup\r\n        className=\"btn\"\r\n        trigger={(open) => <MoreBtn open={open} />}\r\n        position=\"top right\"\r\n        closeOnDocumentClick\r\n        contentStyle={contentStyle}\r\n        overlayStyle={overlayStyle}\r\n        arrow={false}\r\n      >\r\n        <ToggleTheme  />\r\n        <ChangeColor  />\r\n        <Settings />\r\n        <Logout />\r\n      </Popup> \r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MorePopup;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport {\r\n  Logo,\r\n  HomeIcon,\r\n  ExploreIcon,\r\n  NotificationIcon,\r\n  ProfileIcon,\r\n  BmIcon,\r\n} from \"../Icons\";\r\nimport Loader from \"../Loader\";\r\nimport useUser from '../../hooks/useUser';\r\nimport MorePopup from \"../MorePopup\";\r\n\r\n\r\nconst Wrapper = styled.nav`\r\n  width: 14.6%;\r\n  padding: 1rem;\r\n  border-right: 1px solid ${(props) => props.theme.tertiaryColor};\r\n  height: 100vh;\r\n  position: fixed;\r\n  font-weight: 500;\r\n\r\n  svg {\r\n    width: 28px;\r\n    height: 28px;\r\n    margin-right: 0.5rem;\r\n    position: relative;\r\n    color: ${(props) => props.theme.accentColor};\r\n    top: 7px;\r\n  }\r\n\r\n  .logo {\r\n    margin-bottom: 1.3rem;\r\n  }\r\n\r\n  ul {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n  }\r\n\r\n  li {\r\n    margin-bottom: 2rem;\r\n  }\r\n\r\n  .selected,\r\n  .selected svg {\r\n    color: ${(props) => props.theme.accentColor};\r\n    fill: ${(props) => props.theme.accentColor};\r\n  }\r\n\r\n  @media screen and (max-width: 1100px) {\r\n    width: 10%;\r\n\r\n    span {\r\n      display: none;\r\n    }\r\n\r\n    svg {\r\n      margin-right: 0;\r\n    }\r\n\r\n    li {\r\n      margin: none;\r\n    }\r\n\r\n    button {\r\n      display: none;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 530px) {\r\n    bottom: 0;\r\n    width: 100vw;\r\n    border-right: none;\r\n    height: 4rem;\r\n    border-top: 1px solid ${(props) => props.theme.tertiaryColor};\r\n    z-index: 2;\r\n    background: ${(props) => props.theme.background};\r\n\r\n    ul {\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n    }\r\n\r\n    li {\r\n    }\r\n\r\n    svg {\r\n      width: 22px;\r\n      height: 22px;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 500px) {\r\n  }\r\n`;\r\n\r\nconst Nav = () => {\r\n  const { user, loadFeed } = useUser();\r\n\r\n  if (!user) return <Loader />;\r\n  const userid = user.id; \r\n  \r\n  return (\r\n    <Wrapper>\r\n      <ul>\r\n        <Link to=\"/\">\r\n          <h3 className=\"logo\">\r\n            <Logo />\r\n          </h3>\r\n        </Link>\r\n        <li>\r\n          <NavLink exact activeClassName=\"selected\" to=\"/\" onClick={loadFeed} >\r\n            <HomeIcon /> <span>Home</span>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName=\"selected\" to=\"/explore\">\r\n            <ExploreIcon /> <span>Explore</span>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName=\"selected \" to=\"/notifications\">\r\n            <NotificationIcon /> <span>Notifications</span>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName=\"selected\" to=\"/bookmarks\">\r\n            <BmIcon /> <span>Bookmarks</span>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <NavLink activeClassName=\"selected\" to={`/${userid}`}>\r\n            <ProfileIcon /> <span>Profile</span>\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n          <MorePopup />\r\n        </li>\r\n      </ul>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport { TrashIcon } from \"../Icons\";\r\nimport 'gun/lib/path';\r\n\r\nconst DeleteTweet = ({ item }) => {\r\n\r\n  const { user:loggedInUser } = useUser(); \r\n\r\n  const handleDeleteTweet = async () => {\r\n\r\n    // Remove from Feed\r\n    // Delete text\r\n    // Add deleted = true property to node.\r\n \r\n    item.node.get(\"text\").put(\"(Deleted)\");\r\n    item.node.get(\"deleted\").put(true);\r\n\r\n    toast.success(\"Your tweet has been deleted\");\r\n  };\r\n    if(item.owner.id !== loggedInUser.id)\r\n      return null; \r\n\r\n  return <TrashIcon loading={false} onClick={handleDeleteTweet} />;\r\n};\r\n\r\nexport default DeleteTweet;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { CheckCircle, CheckCircleFill, XCircle, XCircleFill, FlagFill } from 'react-bootstrap-icons';\r\nimport useUser from \"../../hooks/useUser\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n\r\n    div {\r\n      margin-right: 4rem;\r\n      color: ${(props) => props.theme.secondaryColor};\r\n    }\r\n\r\n    svg {\r\n      margin-right: 0.5rem;\r\n    }\r\n\r\n    span {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n`;\r\n\r\n\r\nconst ConfirmReject = ({ id, item }) => {\r\n  const { user } = useUser();\r\n\r\n  const [confirmed, setConfirmed] = useState(item.confirmed || false);\r\n  const [confirmedCountState, setConfirmedCount] = useState(item.confirmCount);\r\n  const [rejected, setRejected] = useState(item.rejected || false);\r\n  const [rejectedCountState, setRejectedCount] = useState(item.rejectCount);\r\n\r\n  const handleToggleConfirmed = () => {\r\n    setConfirmed(!confirmed);\r\n    if (confirmed) {\r\n      setConfirmedCount(confirmedCountState - 1);\r\n    } else {\r\n      setConfirmedCount(confirmedCountState + 1);\r\n      //user.node.confirm.get(item.soul).put({ value: 1});\r\n    }\r\n\r\n\r\n\r\n    if(rejected) \r\n      handleToggleRejected();\r\n    // TODO: Add to Gun\r\n  };\r\n\r\n  const handleToggleRejected = () => {\r\n    setRejected(!rejected);\r\n    if (rejected) {\r\n      setRejectedCount(rejectedCountState - 1);\r\n    } else {\r\n      setRejectedCount(rejectedCountState + 1);\r\n      //user.node.confirm.get(item.soul).put({ value: -1});\r\n    }\r\n\r\n    if(confirmed)\r\n      handleToggleConfirmed();\r\n    // TODO: Add to Gun\r\n  };\r\n\r\n  // useEffect(() => {\r\n\r\n  // // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  // }, [item])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <div>\r\n      <span title=\"Confirm\">\r\n        {confirmed ? (\r\n          <CheckCircleFill color=\"#17BF63\" onClick={handleToggleConfirmed} />\r\n        ) : (\r\n          <CheckCircle onClick={handleToggleConfirmed} />\r\n        )}\r\n        {confirmedCountState ? confirmedCountState : null}\r\n      </span>\r\n      </div>\r\n      <div>\r\n      <span title=\"Reject\">\r\n        {rejected ? (\r\n          <XCircleFill color=\"#E0245E\" onClick={handleToggleRejected} />\r\n        ) : (\r\n          <XCircle onClick={handleToggleRejected} />\r\n        )}\r\n        {rejectedCountState ? rejectedCountState : null}\r\n      </span>\r\n      </div>\r\n      <div>\r\n        <FlagFill color=\"green\"></FlagFill>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ConfirmReject;\r\n","//import Gun from 'gun/gun';\r\nimport axios from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\n//import moment from 'moment'\r\n\r\nexport const displayError = (err) => {\r\ntoast.error(err.message);\r\nconsole.log(err.stack);\r\n}\r\n  //toast.error(err.message.split(\":\")[1].trim().replace(\".\", \"\"));\r\n\r\nexport const sortFn = (a, b) => {\r\n  var dateA = new Date(a.createdAt).getTime();\r\n  var dateB = new Date(b.createdAt).getTime();\r\n  return dateA < dateB ? 1 : -1;\r\n};\r\n\r\nexport const uploadImage = async (file) => {\r\n  const formData = new FormData();\r\n  formData.append(\"file\", file);\r\n  formData.append(\"upload_preset\", \"twitter-build\");\r\n\r\n  let toastId = null;\r\n  const { data } = await axios.request({\r\n    method: \"POST\",\r\n    url: process.env.REACT_APP_CLOUDINARY_URL,\r\n    data: formData,\r\n    onUploadProgress: (p) => {\r\n      const progress = p.loaded / p.total;\r\n\r\n      if (toastId === null) {\r\n        toastId = toast(\"Upload in progress\", {\r\n          progress,\r\n          bodyClassName: \"upload-progress-bar\",\r\n        });\r\n      } else {\r\n        toast.update(toastId, {\r\n          progress,\r\n        });\r\n      }\r\n    },\r\n  });\r\n\r\n  toast.dismiss(toastId);\r\n\r\n  return data.secure_url;\r\n};\r\n\r\nexport const instantiateNewGun = (Gun, opts) => () => {\r\n  return Gun(opts);\r\n};\r\n\r\n\r\n\r\n\r\n// export const createTweetContainer = (tweet, userContainer) => {\r\n//   const soul = Gun.node.soul(tweet);\r\n//   const id = soul.split('/').pop();\r\n//   const date = moment(tweet.createdAt);\r\n\r\n\r\n//   const item = {\r\n//       soul: soul,\r\n//       id: id,\r\n//       tweet: tweet,\r\n//       user: userContainer,\r\n//       createdAt: date,\r\n\r\n//       getNode : function() {\r\n//         return userContainer.tweets.get(this.id);\r\n//       }\r\n//   }\r\n//   return item;\r\n// };\r\n","import React, { useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { RetweetIcon, RtFillIcon } from \"../Icons\";\r\nimport { displayError } from \"../../utils\";\r\n\r\nconst Retweet = ({ id, isRetweet, retweetsCount }) => {\r\n  const [retweet, setRetweet] = useState(isRetweet);\r\n  const [retweetsCountState, setRetweetsCount] = useState(retweetsCount);\r\n  // const [toggleRetweetMutation, { loading }] = useMutation(TOGGLE_RETWEET, {\r\n  //   variables: { id },\r\n  // });\r\n\r\n  const loading = true;\r\n  const handleRetweet = async () => {\r\n    try {\r\n      //await toggleRetweetMutation();\r\n      setRetweet(!retweet);\r\n      if (retweet) {\r\n        setRetweetsCount(retweetsCountState - 1);\r\n        toast.success(\"Retweet removed\");\r\n      } else {\r\n        setRetweetsCount(retweetsCountState + 1);\r\n        toast.success(\"Retweet done\");\r\n      }\r\n    } catch (err) {\r\n      return displayError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <span>\r\n      {retweet ? (\r\n        <RtFillIcon loading={loading} color=\"#17BF63\" onClick={handleRetweet} />\r\n      ) : (\r\n        <RetweetIcon loading={loading} onClick={handleRetweet} />\r\n      )}\r\n      {retweetsCountState ? retweetsCountState : null}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Retweet;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.img`\r\n  height: ${(props) => (props.lg ? \"130px\" : \"40px\")};\r\n  width: ${(props) => (props.lg ? \"130px\" : \"40px\")};\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n  margin-right: 1rem;\r\n  margin-bottom: 1rem;\r\n\r\n  @media screen and (max-width: 530px) {\r\n    height: ${(props) => (props.lg ? \"110px\" : \"40px\")};\r\n    width: ${(props) => (props.lg ? \"110px\" : \"40px\")};\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Avatar from \"../styles/Avatar\";\r\nimport Identicon from 'react-identicons';\r\n\r\nconst StyledIdenticon = styled(Identicon)`\r\n  height: ${(props) => (props.lg ? \"130px\" : \"40px\")};\r\n  width: ${(props) => (props.lg ? \"130px\" : \"40px\")};\r\n  object-fit: cover;\r\n  border-radius: 50%;\r\n  margin-right: 1rem;\r\n  margin-bottom: 1rem;\r\n\r\n  @media screen and (max-width: 530px) {\r\n    height: ${(props) => (props.lg ? \"110px\" : \"40px\")};\r\n    width: ${(props) => (props.lg ? \"110px\" : \"40px\")};\r\n  }\r\n`;\r\n\r\nconst AvatarIdenticon = ({id, profile}) => (profile && profile.avatar) ?\r\n  <Avatar src={profile && profile.avatar} alt=\"avatar\" /> \r\n  :\r\n  <StyledIdenticon string={id} size=\"40\" />\r\n  ;\r\n\r\nexport default AvatarIdenticon;\r\n","import { useState, useEffect } from 'react';\r\n\r\nconst useProfile = (user) => {\r\n\r\n    const [ profile, setProfile] = useState(user.loadProfile());\r\n\r\n    useEffect(() => {\r\n\r\n      if(!user.profile.loaded) {\r\n        user.loadProfile(setProfile);\r\n      } else {\r\n        setProfile(profile);\r\n      }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [setProfile]);\r\n\r\n    return profile;\r\n  }\r\n\r\nexport default useProfile;","import { useEffect, useState } from 'react';\r\nimport \"../utils/DispatcherEvent\";\r\n\r\n\r\nconst useUserChanged = (user) => {\r\n\r\n    const [changed, setChanged] = useState(user.relationshipChanged);\r\n\r\n    useEffect(() => {\r\n        user.onChange.registerCallback(setChanged);\r\n\r\n        return () => {\r\n            user.onChange.unregisterCallback(setChanged);\r\n        };\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []); // Run only once\r\n\r\n    return [changed, setChanged];\r\n}\r\n\r\nexport default useUserChanged;","\r\nimport md5 from 'md5'\r\n\r\nclass Identicoin {\r\n    static defaultProps = {\r\n        className: 'identicon',\r\n        bg: 'transparent',\r\n        count: 5,\r\n        palette: null,\r\n        fg: null,\r\n        padding: 0,\r\n        size: 40,\r\n        getColor: null,\r\n        string: ''\r\n      };\r\n\r\n\r\n    constructor(prop) {\r\n        this.prop = Object.assign(Identicoin.defaultProps,  prop);\r\n        this.canvas = document.createElement(\"canvas\");\r\n        this.canvas.width = this.prop.size;\r\n        this.canvas.height = this.prop.size;\r\n        this.className = this.prop.className;\r\n    }\r\n\r\n    range (n, in_min, in_max, out_min, out_max) {\r\n        return ((n - in_min) * (out_max - out_min)) / (in_max - in_min) + out_min;\r\n    };\r\n\r\n    toDataURL() {\r\n        return this.canvas.toDataURL(\"image/png\");\r\n    }\r\n\r\n    updateCanvas()  {\r\n      let hash = md5(this.prop.string);\r\n      let block = Math.floor(this.prop.size / this.prop.count);\r\n      let hashcolor = hash.slice(0, 6);\r\n  \r\n      if (this.prop.palette && this.prop.palette.length) {\r\n        let index = Math.floor(\r\n          this.range(parseInt(hash.slice(-3), 16), 0, 4095, 0, this.prop.palette.length)\r\n        );\r\n        this.prop.fg = this.prop.palette[index];\r\n      }\r\n  \r\n      if (this.prop.getColor) {\r\n        this.prop.getColor(this.prop.fg || hashcolor);\r\n      }\r\n  \r\n      let pad = this.prop.padding;\r\n      this.canvas.width = block * this.prop.count + pad;\r\n      this.canvas.height = block * this.prop.count + pad;\r\n      let arr = hash.split('').map(el => {\r\n        el = parseInt(el, 16);\r\n        if (el < 8) {\r\n          return 0;\r\n        } else {\r\n          return 1;\r\n        }\r\n      });\r\n  \r\n      let map = [];\r\n  \r\n      map[0] = map[4] = arr.slice(0, 5);\r\n      map[1] = map[3] = arr.slice(5, 10);\r\n      map[2] = arr.slice(10, 15);\r\n  \r\n      const ctx = this.canvas.getContext('2d');\r\n      ctx.imageSmoothingEnabled = false;\r\n      ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n  \r\n      map.forEach((row, i) => {\r\n        row.forEach((el, j) => {\r\n          if (el) {\r\n            ctx.fillStyle = this.fg ? this.fg : '#' + hashcolor;\r\n            ctx.fillRect(\r\n              block * i + pad,\r\n              block * j + pad,\r\n              block - pad,\r\n              block - pad\r\n            );\r\n          } else {\r\n            ctx.fillStyle = this.bg;\r\n            ctx.fillRect(\r\n              block * i + pad,\r\n              block * j + pad,\r\n              block - pad,\r\n              block - pad\r\n            );\r\n          }\r\n        });\r\n      });\r\n    };\r\n}\r\n\r\nexport default Identicoin;","import Graph from \"react-vis-network-graph\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport resources from \"../../utils/resources\";\r\nimport Identicon from '../../utils/Identicon';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst options = {\r\n  layout: {\r\n    hierarchical: {\r\n      direction: \"LR\",\r\n      sortMethod: \"directed\"\r\n    }\r\n  },\r\n  interaction:\r\n  {\r\n    dragNodes: false,\r\n    hover: false\r\n  },\r\n  physics: {\r\n    enabled: false\r\n  },\r\n  nodes: {\r\n    shape: 'circularImage',\r\n    borderWidth: 3,\r\n    size: 20,\r\n    color: {\r\n      border: '#222222',\r\n      background: '#ffffff'\r\n    },\r\n    shadow: true,\r\n    font: {\r\n      color: '#000000',\r\n      multi: 'md',\r\n      face: 'arial',\r\n      size: 9\r\n    }\r\n  },\r\n  edges: {\r\n    arrows: { to: true },\r\n    shadow: true\r\n\r\n  },\r\n  autoResize: true\r\n};\r\n\r\n\r\n\r\nfunction lineBreakText(text: string, width: number) {\r\n  if (!text)\r\n    return \"\";\r\n\r\n  let r = [];\r\n  let count = 0;\r\n  let index = 0;\r\n  if (text.length <= width)\r\n    return text;\r\n\r\n  while (index < text.length) {\r\n    if (count >= width) {\r\n      count = 0;\r\n      r.push(\"-\\n\");\r\n      continue;\r\n    }\r\n\r\n    r.push(text[index]);\r\n    count++;\r\n    index++;\r\n  }\r\n\r\n  return r.join(\"\");\r\n}\r\n\r\nfunction getEdgeColors(state, theme) {\r\n\r\n  let colors = (state) ?\r\n    { background: theme[state.action + \"Background\"], textColor: theme[state.action + \"Textcolor\"] }\r\n    :\r\n    { background: theme.neutralBackground, textColor: theme.neutralTextcolor };\r\n  colors.font = { size: 12, color: theme.secondaryColor, face: theme.font };\r\n\r\n  return colors;\r\n}\r\n\r\nfunction createNode(nodeId, user, theme) {\r\n\r\n  let label = (user.profile && user.profile.displayname) ? user.profile.displayname : user.profile.handle;\r\n\r\n  let data = \"\";\r\n  if (user.profile && user.profile.avatar)\r\n    data = user.profile.avatar;\r\n  else {\r\n    let icon = new Identicon({ string: user.id, size: 20 });\r\n    icon.updateCanvas();\r\n    data = icon.toDataURL();\r\n  }\r\n\r\n\r\n  let currentNode = {\r\n    id: nodeId,\r\n    label: lineBreakText(label, 9),\r\n    image: data,\r\n    color: {\r\n      color: theme.neutralBackground\r\n    },\r\n    font: { size: 12, color: theme.primaryColor, face: theme.font },\r\n    user: user\r\n  };\r\n  return currentNode\r\n}\r\n\r\n\r\nconst ScoreGraph = ({ user, close }) => {\r\n\r\n  const graphRef = React.createRef();\r\n  const { theme } = useContext(ThemeContext);\r\n  const history = useHistory();\r\n\r\n  const { getUserContainerById, user: logginInUser } = useUser();\r\n  \r\n\r\n  function InitState() {\r\n    let nodeId = 1;\r\n    let nodes = [];\r\n    let edges = [];\r\n    let visited = {};\r\n\r\n    function load(localUser, childNode, relationship, level) {\r\n      if (visited[localUser.id])\r\n        return; // Do not add the same user again\r\n      visited[localUser.id] = true;\r\n\r\n\r\n      let currentNode = createNode(nodeId++, localUser, theme);\r\n      nodes.push(currentNode);\r\n\r\n      if (childNode) {\r\n        const edgecolor = getEdgeColors(relationship, theme);\r\n        edges.push({ from: currentNode.id, to: childNode.id, arrows: \"to\", color: { color: edgecolor.background } })\r\n      }\r\n\r\n      if (localUser.id === logginInUser.id)\r\n        return; // Stop with oneself\r\n\r\n      if (level < 0) // Hard exit, deadman switch\r\n        return;\r\n\r\n\r\n      const tempList = localUser.getReduceRelationshipBy();\r\n      let first = tempList.find(x => x !== undefined && x.element !== undefined && Object.keys(x.element).length > 0);\r\n\r\n      if (first) {\r\n        let relationships = first.element;\r\n        for (const [userId, relationship] of Object.entries(relationships)) {\r\n\r\n          // All neutrals are ignored, as they are basically null/cancel objects\r\n          if (relationship.action === resources.node.names.neutral)\r\n            continue;\r\n\r\n          if (localUser.id !== user.id) {\r\n            // We are not looking at target User anymore therefore only trust relationships are followed back.\r\n            // Trust is the only relationship that allows to jump to the next user.\r\n            if (relationship.action !== resources.node.names.trust)\r\n              continue;\r\n          }\r\n\r\n          let parentUser = getUserContainerById(userId);\r\n          load(parentUser, currentNode, relationship, level - 1);\r\n        }\r\n\r\n\r\n      } else {\r\n        // Something is wrong!!!\r\n      }\r\n    }\r\n\r\n    load(user, 4);\r\n\r\n    let r = {\r\n      counter: nodes.length,\r\n      graph: {\r\n        nodes: nodes,\r\n        edges: edges\r\n      },\r\n      events: {\r\n        select: ({ nodes, edges }) => {\r\n        },\r\n        doubleClick: ({ nodes }) => {\r\n          let nodeId = nodes.shift();\r\n          if (nodeId) {\r\n            let node = graphRef.current.nodes.get(nodeId);\r\n            history.push(\"/\"+node.user.id);\r\n            close();\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n    }\r\n    return r;\r\n  }\r\n\r\n  const [state] = useState(InitState);\r\n\r\n  const { graph, events } = state;\r\n  return (\r\n    <Graph ref={graphRef} graph={graph} options={options} events={events} style={{ height: \"640px\", with: \"640px\" }} />\r\n  );\r\n}\r\n\r\nexport default ScoreGraph;\r\n","import React, { useContext } from \"react\";\r\nimport Popup from 'reactjs-popup';\r\nimport styled from \"styled-components\";\r\nimport { ThemeContext } from \"styled-components\";\r\nimport ScoreGraph from \"./ScoreGraph\";\r\n\r\nconst StyledPopup = styled(Popup)`\r\n  // use your custom style for \".popup-overlay\"\r\n//   &-overlay {\r\n//     ...;\r\n//   }\r\n  // use your custom style for \".popup-content\"\r\n   &-content {\r\n        .modal > .close {\r\n            cursor: pointer;\r\n            position: absolute;\r\n            display: block;\r\n            padding: 2px 5px;\r\n            line-height: 20px;\r\n            right: -10px;\r\n            top: -10px;\r\n            font-size: 24px;\r\n            background: #ffffff;\r\n            border-radius: 18px;\r\n            border: 1px solid #cfcece;\r\n            }\r\n\r\n        .modal > .actions {\r\n            width: 100%;\r\n            padding: 10px 5px;\r\n            margin: auto;\r\n            text-align: center;\r\n        }          \r\n  }\r\n`;\r\n\r\nconst ScoreGraphModal = (props) => {\r\n\r\n    const theme = useContext(ThemeContext);\r\n\r\n    const contentStyle = {\r\n        width: \"660px\",\r\n        background: theme.background,\r\n        borderRadius: \"6px\",\r\n        border: `1px solid ${theme.tertiaryColor}`,\r\n        boxShadow: theme.bs1,\r\n    };\r\n\r\n    const overlayStyle = {\r\n        background: \"none\",\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <StyledPopup\r\n\r\n            open={props.open}\r\n            onClose={props.onClose}\r\n            nested\r\n            modal\r\n            position=\"top center\"\r\n            contentStyle={contentStyle}\r\n            overlayStyle={overlayStyle}\r\n\r\n        >\r\n            {close => (\r\n                <div className=\"modal\">\r\n                    <button className=\"close\" onClick={close}>&times;</button>\r\n                    <div className=\"header\">{props.header}</div>\r\n                    <div className=\"content\">\r\n                        <ScoreGraph user={props.user} close={close} />\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </StyledPopup>);\r\n}\r\n\r\nexport default ScoreGraphModal;","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useUserChanged from \"../../hooks/useUserChanged\";\r\nimport ScoreGraphModal from \"../Analyse/ScoreGraphModal\";\r\n\r\nconst Wrapper = styled.div`\r\n  border: 1px solid ${(props) => props.theme.secondaryColor};\r\n  text-align: center;\r\n  border-radius: 5px;\r\n  width: 25px;\r\n  height: 25px; \r\n  cursor: pointer;\r\n  background-color: ${(props) => props.stateColor}\r\n\r\n  user-select: none; /* supported by Chrome and Opera */\r\n  -webkit-user-select: none; /* Safari */\r\n  -khtml-user-select: none; /* Konqueror HTML */\r\n  -moz-user-select: none; /* Firefox */\r\n  -ms-user-select: none; /* Internet Explorer/Edge */\r\n`\r\n\r\nconst Degree = ({ user }) => {\r\n\r\n    const [,] = useUserChanged(user);\r\n    const [open, setOpen] = useState(false);\r\n    const openModal = () => {\r\n      setOpen(true);\r\n    }\r\n\r\n    const closeModal = () => {\r\n      setOpen(false);\r\n    }\r\n    const saveModal = (obj) => { \r\n      console.log(obj); \r\n      closeModal();\r\n    }\r\n         \r\n    const color = user.state.color;\r\n    const title = (user.score) ?  `Trust: ${user.score.trust} - Follow: ${user.score.follow} - Neutral: ${user.score.neutral} - Mute: ${user.score.mute} - Block: ${user.score.block}` : \"No score yet!\";\r\n    var degree = user.degree;\r\n\r\n  return (\r\n    <Wrapper onClick={openModal} title={title} stateColor={color} titel={title}>\r\n        {degree}\r\n        <ScoreGraphModal open={open} onClose={closeModal} saveModal={saveModal} header={\"Score Graph\"} saveTitle={\"Save\"} user={user} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Degree;","import { useState } from 'react';\r\nimport resources from '../utils/resources';\r\n\r\nconst useUserAction = (targetUser, loggedInUser, actionName) => {\r\n\r\n  const [actionState, setActionState] = useState((targetUser.state.action === actionName));\r\n\r\n  const setAction = (data) => {\r\n\r\n    let an = resources.node.names.neutral;\r\n    if (actionState) {\r\n      setActionState(false);\r\n    } else {\r\n       an = actionName;\r\n       setActionState(true);\r\n    }\r\n    const actionData = Object.assign({ action: an }, data);\r\n\r\n    loggedInUser.setAction(targetUser, actionData);\r\n  };\r\n\r\n  return [actionState, setAction];\r\n}\r\n\r\nexport default useUserAction;","import React, { useContext } from \"react\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport useProfile from '../../hooks/useProfile';\r\nimport MenuButton from \"../../styles/MenuButton\";\r\nimport { PersonPlus, PersonDash } from 'react-bootstrap-icons';\r\nimport useUser from \"../../hooks/useUser\";\r\nimport useUserAction from \"../../hooks/useUserAction\";\r\nimport resources from \"../../utils/resources\";\r\n\r\nconst FollowUser = ({ user }) => {\r\n\r\n  const { user: loggedInUser } = useUser();\r\n  const profile = useProfile(user);\r\n  const { theme } = useContext(ThemeContext);\r\n  const [actionState, setAction] = useUserAction(user, loggedInUser, resources.node.names.follow);\r\n\r\n  if(loggedInUser.id === user.id) \r\n    return null; // Ignore myself\r\n\r\n  const { handle } = profile;\r\n\r\n  return (\r\n    <MenuButton onClick={() => setAction({})}>\r\n      {actionState ?\r\n        <React.Fragment>\r\n          <PersonDash color={theme.accentColor} />\r\n          <p>Unfollow - @{handle}</p>\r\n        </React.Fragment>\r\n      : \r\n        <React.Fragment>\r\n          <PersonPlus color={theme.accentColor} />\r\n          <p>Follow - @{handle}</p>\r\n        </React.Fragment>\r\n      }\r\n    </MenuButton>\r\n  );\r\n};\r\n\r\nexport default FollowUser;\r\n","import React, { useContext } from \"react\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport useProfile from '../../hooks/useProfile';\r\nimport MenuButton from \"../../styles/MenuButton\";\r\nimport { Eye, EyeSlash } from 'react-bootstrap-icons';\r\nimport useUser from \"../../hooks/useUser\";\r\nimport useUserAction from \"../../hooks/useUserAction\";\r\nimport resources from \"../../utils/resources\";\r\n\r\n\r\nconst MuteUser = ({ user }) => {\r\n\r\n  const { user: loggedInUser } = useUser();\r\n  const profile = useProfile(user);\r\n  const { theme } = useContext(ThemeContext);\r\n  const [actionState, setAction] = useUserAction(user, loggedInUser, resources.node.names.mute);\r\n\r\n\r\n  if(loggedInUser.id === user.id) \r\n    return null; // Ignore myself\r\n\r\n  const { handle } = profile;\r\n\r\n  return (\r\n    <MenuButton onClick={() => setAction({})}>\r\n      {actionState ?\r\n        <React.Fragment>\r\n          <Eye color={theme.accentColor} />\r\n          <p>Unmute - @{handle}</p>\r\n        </React.Fragment>\r\n      : \r\n        <React.Fragment>\r\n          <EyeSlash color={theme.accentColor} />\r\n          <p>Mute - @{handle}</p>\r\n        </React.Fragment>\r\n      }\r\n    </MenuButton>\r\n  );\r\n};\r\n\r\nexport default MuteUser;\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport default styled.form`\r\n  width: 380px;\r\n  border: 1px solid ${(props) => props.theme.tertiaryColor};\r\n  padding: 2rem;\r\n  border-radius: 10px;\r\n\r\n  span {\r\n    text-align: center;\r\n    display: block;\r\n    margin-bottom: 0.5rem;\r\n    color: ${(props) => props.theme.secondaryColor};\r\n  }\r\n\r\n  .group-input {\r\n    display: flex;\r\n    justify-content: space-between;\r\n\r\n    div:nth-child(1) {\r\n      margin-right: 1rem;\r\n    }\r\n  }\r\n\r\n  ${(props) =>\r\n    props.lg &&\r\n    css`\r\n      width: 98%;\r\n      border: none;\r\n      border-radius: none;\r\n    `}\r\n\r\n  ${(props) =>\r\n    props.center &&\r\n    css`\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n    `}\r\n\r\n@media screen and (max-width: 400px) {\r\n    width: 360px;\r\n  }\r\n`;\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport default styled.button`\r\n  padding: ${(props) => (props.sm ? \"0.4rem 1rem\" : \"0.4rem 1.8rem\")};\r\n  color: ${(props) => (props.outline ? props.theme.accentColor : \"#FFF\")};\r\n  background: ${(props) =>\r\n    props.outline ? \"inherit\" : props.theme.accentColor};\r\n  border: 1px solid ${(props) => props.theme.accentColor};\r\n  border-radius: 50px;\r\n  font-family: \"Poppins\", sans-serif;\r\n  font-size: ${(props) => (props.sm ? \"0.8rem\" : \"1rem\")};\r\n  letter-spacing: 1px;\r\n  text-transform: uppercase;\r\n  cursor: pointer;\r\n  margin-bottom: 0.5rem;\r\n  width: ${(props) => (props.xl ? \"100%\" : \"none\")};\r\n\r\n  ${(props) =>\r\n    props.relative &&\r\n    css`\r\n\t\t\tposition: relative;\r\n\t\t\tleft: 52%;\r\n\t\t\t}\r\n\t`}\r\n\r\n  @media screen and (max-width: 530px) {\r\n    font-size: 0.8rem;\r\n\r\n    ${(props) =>\r\n      props.relative &&\r\n      css`\r\n        position: relative;\r\n        left: 32%;\r\n      `}\r\n  }\r\n\r\n  @media screen and (max-width: 430px) {\r\n    ${(props) =>\r\n      props.relative &&\r\n      css`\r\n        position: relative;\r\n        left: 17%;\r\n      `}\r\n  }\r\n`;\r\n","import { useState } from \"react\";\r\n\r\nconst useInput = (defaultValue) => {\r\n  const [value, setValue] = useState(defaultValue);\r\n\r\n  const onChange = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  return { value, setValue, onChange };\r\n};\r\n\r\nexport default useInput;","import React, { useContext, useRef } from \"react\";\r\nimport Popup from 'reactjs-popup';\r\nimport styled from \"styled-components\";\r\nimport { ThemeContext } from \"styled-components\";\r\nimport Form from \"../../styles/Form\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport Button from \"../../styles/Button\";\r\nimport useInput from \"../../hooks/useInput\";\r\n\r\nconst StyledPopup = styled(Popup)`\r\n  // use your custom style for \".popup-overlay\"\r\n//   &-overlay {\r\n//     ...;\r\n//   }\r\n  // use your custom style for \".popup-content\"\r\n   &-content {\r\n        .modal > .close {\r\n            cursor: pointer;\r\n            position: absolute;\r\n            display: block;\r\n            padding: 2px 5px;\r\n            line-height: 20px;\r\n            right: -10px;\r\n            top: -10px;\r\n            font-size: 24px;\r\n            background: #ffffff;\r\n            border-radius: 18px;\r\n            border: 1px solid #cfcece;\r\n            }\r\n\r\n        .modal > .actions {\r\n            width: 100%;\r\n            padding: 10px 5px;\r\n            margin: auto;\r\n            text-align: center;\r\n        }          \r\n\r\n        div.note-wrapper {\r\n            background: ${props => props.theme.tertiaryColor2};\r\n            margin-bottom: 1.4rem;\r\n            border-bottom: 1px solid ${props => props.theme.accentColor};\r\n            padding: 0.5rem;\r\n\r\n            label {\r\n                color: ${props => props.theme.secondaryColor2};\r\n                margin-bottom: 0.4rem;\r\n            }\r\n\r\n            textarea {\r\n                font-size: 1rem;\r\n                width: 100%;\r\n                background: ${props => props.theme.tertiaryColor2};\r\n                border: none;\r\n                font-family: ${props => props.theme.font};\r\n                color: ${props => props.theme.primaryColor};\r\n            }\r\n        }\r\n  }\r\n`;\r\n\r\n//const Wrapper = styled.div`\r\n\r\n// .modal {\r\n//     font-size: 12px;\r\n//   }\r\n//   .modal > .header {\r\n//     width: 100%;\r\n//     border-bottom: 1px solid gray;\r\n//     font-size: 18px;\r\n//     text-align: center;\r\n//     padding: 5px;\r\n//   }\r\n//   .modal > .content {\r\n//     width: 100%;\r\n//     padding: 10px 5px;\r\n//   }\r\n\r\n//`;\r\n\r\nconst NoteModal = (props) => {\r\n\r\n    const theme = useContext(ThemeContext);\r\n\r\n    const ref = useRef();\r\n\r\n    const note = useInput(\"\");\r\n\r\n    const handleSubmit = () => {\r\n        if (props.saveModal)\r\n            props.saveModal({ note: note.value });\r\n    }\r\n\r\n    const contentStyle = {\r\n        width: \"460px\",\r\n        background: theme.background,\r\n        borderRadius: \"6px\",\r\n        border: `1px solid ${theme.tertiaryColor}`,\r\n        boxShadow: theme.bs1,\r\n    };\r\n\r\n    const overlayStyle = {\r\n        background: \"none\",\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <StyledPopup\r\n\r\n            open={props.open}\r\n            onClose={props.onClose}\r\n            nested\r\n            modal\r\n            position=\"top center\"\r\n            contentStyle={contentStyle}\r\n            overlayStyle={overlayStyle}\r\n\r\n        >\r\n            {close => (\r\n                <Form lg onSubmit={handleSubmit}>\r\n                    <div className=\"modal\">\r\n                        <button className=\"close\" onClick={close}>&times;</button>\r\n                        <div className=\"header\">{props.header}</div>\r\n                        <div className=\"content\">\r\n                            <div className=\"note-wrapper\">\r\n                                <label className=\"note\" htmlFor=\"note\">Note</label>\r\n                                <TextareaAutosize\r\n                                    id=\"note\"\r\n                                    ref={ref}\r\n                                    placeholder=\"Write your reason here...\"\r\n                                    value={note.value}\r\n                                    onChange={note.onChange}\r\n                                    \r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"actions\">\r\n                            <Button outline type=\"submit\">{props.saveTitle}</Button>\r\n                        </div>\r\n                    </div>\r\n                </Form>\r\n            )}\r\n        </StyledPopup>);\r\n}\r\n\r\nexport default NoteModal;","import React, { useContext, useState } from \"react\";\r\nimport MenuButton from \"../../styles/MenuButton\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { BlockIcon } from \"../Icons\";\r\nimport useProfile from '../../hooks/useProfile';\r\nimport useUser from \"../../hooks/useUser\";\r\nimport useUserAction from \"../../hooks/useUserAction\";\r\nimport resources from \"../../utils/resources\";\r\nimport NoteModal from \"./NoteModal\";\r\n\r\n\r\nconst BlockUser = ({ user, popupClose }) => {\r\n  const { user: loggedInUser } = useUser();\r\n  const profile = useProfile(user);\r\n  const { theme } = useContext(ThemeContext);\r\n  const [actionState, setAction] = useUserAction(user, loggedInUser, resources.node.names.block);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  if(loggedInUser.id === user.id) \r\n    return null; // Ignore myself\r\n\r\n  const openModal = () => {\r\n      setOpen(true);\r\n    }\r\n    const closeModal = () => {\r\n      setOpen(false);\r\n      popupClose();\r\n    }\r\n    const saveModal = (obj) => { \r\n        setAction(obj);\r\n        closeModal();\r\n      }\r\n  \r\n\r\n  const { handle } = profile;\r\n  const text = actionState ? \"Unblock\" : \"Block\";\r\n\r\n  return (\r\n    <MenuButton onClick={openModal}>\r\n      <BlockIcon color={theme.accentColor} />\r\n      <p>{text} - @{handle}</p>\r\n      <NoteModal open={open} onClose={closeModal} saveModal={saveModal} header={text+\" user\"} saveTitle={text} />\r\n    </MenuButton>\r\n  );\r\n};\r\n\r\nexport default BlockUser;\r\n","import Graph from \"react-vis-network-graph\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport resources from \"../../utils/resources\";\r\nimport Identicon from '../../utils/Identicon';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst options = {\r\n  layout: {\r\n    hierarchical: false\r\n  },\r\n  nodes: {\r\n    shape: \"circularImage\",\r\n    size: 20,\r\n  },\r\n  edges: {\r\n    color: \"#000000\"\r\n  }\r\n};\r\n\r\n\r\n\r\nfunction lineBreakText(text: string, width: number) {\r\n  if (!text)\r\n    return \"\";\r\n\r\n  let r = [];\r\n  let count = 0;\r\n  let index = 0;\r\n  if (text.length <= width)\r\n    return text;\r\n\r\n  while (index < text.length) {\r\n    if (count >= width) {\r\n      count = 0;\r\n      r.push(\"-\\n\");\r\n      continue;\r\n    }\r\n\r\n    r.push(text[index]);\r\n    count++;\r\n    index++;\r\n  }\r\n\r\n  return r.join(\"\");\r\n}\r\n\r\nfunction getColors(relationship, theme) { \r\n  let colors = (relationship) ?\r\n    { background: theme[relationship.action + \"Background\"], textColor: theme[relationship.action + \"Textcolor\"] }\r\n    :\r\n    { background: theme.neutralBackground, textColor: theme.neutralTextcolor };\r\n  colors.font = { size: 12, color: theme.secondaryColor, face: theme.font };\r\n\r\n  return colors;\r\n}\r\n\r\nfunction createNode(nodeId, user, relationship, colors) {\r\n\r\n  let label = (user.profile && user.profile.displayname) ? user.profile.displayname : user.id;\r\n\r\n  let data = \"\";\r\n  if (user.profile && user.profile.avatar)\r\n    data = user.profile.avatar;\r\n  else {\r\n    let icon = new Identicon({ string: user.id, size: 20 });\r\n    icon.updateCanvas();\r\n    data = icon.toDataURL();\r\n  }\r\n\r\n\r\n  let currentNode = {\r\n    id: nodeId,\r\n    label: lineBreakText(label, 9),\r\n    image: data,\r\n    color: {\r\n      color: colors.background\r\n    },\r\n    font: colors.font,\r\n    user: user,\r\n    relationship: relationship\r\n  };\r\n  return currentNode\r\n}\r\n\r\n\r\nconst RelationshipGraph = ({ user, close }) => {\r\n\r\n  const graphRef = React.createRef();\r\n  const { theme } = useContext(ThemeContext);\r\n  const history = useHistory();\r\n  const { getUserContainerById } = useUser();\r\n\r\n\r\n  function InitState() {\r\n    let nodeId = 1;\r\n    let nodes = [];\r\n    let edges = [];\r\n    let visited = {};\r\n\r\n\r\n    function load(localUser, parentNode, relationship, level) {\r\n      if (visited[localUser.id])\r\n        return;\r\n      visited[localUser.id] = true;\r\n\r\n\r\n      const colors = getColors(relationship, theme);\r\n\r\n      let currentNode = createNode(nodeId++, localUser, relationship, colors);\r\n      nodes.push(currentNode);\r\n\r\n      if (parentNode)\r\n        edges.push({ from: parentNode.id, to: currentNode.id, arrows: \"to\", color: { color: colors.background } })\r\n\r\n\r\n      if (level === 0)\r\n        return;\r\n\r\n      if (relationship && relationship.action !== resources.node.names.trust) // Only continue with Trust relationships\r\n        return;\r\n\r\n      for (const [userId, relationship] of Object.entries(localUser.relationships)) {\r\n\r\n        if (relationship.action === resources.node.names.neutral)\r\n          continue;\r\n\r\n        let childUser = getUserContainerById(userId);\r\n        load(childUser, currentNode, relationship, level - 1);\r\n      }\r\n    }\r\n\r\n    load(user, null, null, 3);\r\n\r\n    let r = {\r\n      counter: nodes.length,\r\n      graph: {\r\n        nodes: nodes,\r\n        edges: edges\r\n      },\r\n      events: {\r\n        select: ({ nodes, edges }) => {\r\n        },\r\n        doubleClick: ({ nodes }) => {\r\n          let nodeId = nodes.shift();\r\n          if (nodeId) {\r\n            let node = graphRef.current.nodes.get(nodeId);\r\n            history.push(\"/\" + node.user.id);\r\n            close();\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n    return r;\r\n  }\r\n\r\n  const [state] = useState(InitState);\r\n\r\n  const { graph, events } = state;\r\n  return (\r\n    <Graph ref={graphRef} graph={graph} options={options} events={events} style={{ height: \"640px\", with: \"640px\" }} />\r\n  );\r\n}\r\n\r\nexport default RelationshipGraph;","import React, { useContext } from \"react\";\r\nimport Popup from 'reactjs-popup';\r\nimport styled from \"styled-components\";\r\nimport { ThemeContext } from \"styled-components\";\r\nimport RelationshipGraph from \"./RelationshipGraph\";\r\n\r\nconst StyledPopup = styled(Popup)`\r\n  // use your custom style for \".popup-overlay\"\r\n//   &-overlay {\r\n//     ...;\r\n//   }\r\n  // use your custom style for \".popup-content\"\r\n   &-content {\r\n        .modal > .close {\r\n            cursor: pointer;\r\n            position: absolute;\r\n            display: block;\r\n            padding: 2px 5px;\r\n            line-height: 20px;\r\n            right: -10px;\r\n            top: -10px;\r\n            font-size: 24px;\r\n            background: #ffffff;\r\n            border-radius: 18px;\r\n            border: 1px solid #cfcece;\r\n            }\r\n\r\n        .modal > .actions {\r\n            width: 100%;\r\n            padding: 10px 5px;\r\n            margin: auto;\r\n            text-align: center;\r\n        }          \r\n  }\r\n`;\r\n\r\nconst RelationshipGraphModal = (props) => {\r\n\r\n    const theme = useContext(ThemeContext);\r\n\r\n    const contentStyle = {\r\n        width: \"660px\",\r\n        background: theme.background,\r\n        borderRadius: \"6px\",\r\n        border: `1px solid ${theme.tertiaryColor}`,\r\n        boxShadow: theme.bs1,\r\n    };\r\n\r\n    const overlayStyle = {\r\n        background: \"none\",\r\n    };\r\n\r\n\r\n    return (\r\n\r\n        <StyledPopup\r\n\r\n            open={props.open}\r\n            onClose={props.onClose}\r\n            nested\r\n            modal\r\n            position=\"top center\"\r\n            contentStyle={contentStyle}\r\n            overlayStyle={overlayStyle}\r\n\r\n        >\r\n            {close => (\r\n                <div className=\"modal\">\r\n                    <button className=\"close\" onClick={close}>&times;</button>\r\n                    <div className=\"header\">{props.header}</div>\r\n                    <div className=\"content\">\r\n                        <RelationshipGraph user={props.user} close={close} />\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </StyledPopup>);\r\n}\r\n\r\nexport default RelationshipGraphModal;","import React, { useContext, useState } from \"react\";\r\nimport MenuButton from \"../../styles/MenuButton\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { Diagram2 } from 'react-bootstrap-icons';\r\nimport RelationshipGraphModal from \"../Analyse/RalationshipGraphModal\";\r\n\r\nconst AnalyseGraph = ({ user, popupClose }) => {\r\n\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const openModal = () => {\r\n    setOpen(true);\r\n  }\r\n  const closeModal = () => {\r\n    setOpen(false);\r\n    popupClose();\r\n  }\r\n  const saveModal = (obj) => { \r\n      console.log(obj); \r\n      closeModal();\r\n    }\r\n\r\n\r\n  return (\r\n    <MenuButton onClick={openModal}>\r\n      <Diagram2 color={theme.accentColor} />\r\n      <p>Analyse connections</p>\r\n      <RelationshipGraphModal open={open} onClose={closeModal} saveModal={saveModal} header={\"Analyse user\"} saveTitle={\"Save\"} user={user} />\r\n    </MenuButton>\r\n  );\r\n};\r\n\r\nexport default AnalyseGraph;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport useProfile from '../../hooks/useProfile';\r\nimport MenuButton from \"../../styles/MenuButton\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport useUserAction from \"../../hooks/useUserAction\";\r\nimport { NeutralIcon, TrustIcon } from \"../Icons\";\r\nimport resources from \"../../utils/resources\";\r\nimport NoteModal from \"./NoteModal\";\r\n\r\nconst TrustUser = ({ user, popupClose }) => {\r\n\r\n  const { user: loggedInUser } = useUser();\r\n  const profile = useProfile(user);\r\n  const { theme } = useContext(ThemeContext);\r\n  const [actionState, setAction] = useUserAction(user, loggedInUser,  resources.node.names.trust);\r\n  const [open, setOpen] = useState(false);\r\n  const openModal = () => {\r\n    setOpen(true);\r\n  }\r\n  const closeModal = () => {\r\n    setOpen(false);\r\n    popupClose();\r\n  }\r\n  const saveModal = (obj) => { \r\n      console.log(obj); \r\n      setAction(obj);\r\n      closeModal();\r\n    }\r\n\r\n\r\n  if(loggedInUser.id === user.id) \r\n    return null; // Ignore myself\r\n\r\n  const { handle } = profile;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <MenuButton onClick={openModal}>\r\n        {actionState ?\r\n          <React.Fragment>\r\n            <NeutralIcon color={theme.accentColor} />\r\n            <p>Untrust - @{handle}</p>\r\n            <NoteModal open={open} onClose={closeModal} saveModal={saveModal} header={\"Untrust user\"} saveTitle={\"Untrust\"} />\r\n          </React.Fragment>\r\n        : \r\n          <React.Fragment>\r\n            <TrustIcon color={theme.accentColor} />\r\n            <p>Trust - @{handle}</p>\r\n            <NoteModal open={open} onClose={closeModal} saveModal={saveModal} header={\"Trust user\"} saveTitle={\"Trust\"} />\r\n          </React.Fragment>\r\n        }\r\n      </MenuButton>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default TrustUser;\r\n","import React, { useContext } from \"react\";\r\nimport MenuButton from \"../../styles/MenuButton\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { TrashIcon } from \"../Icons\";\r\nimport useUser from \"../../hooks/useUser\";\r\n\r\nconst DeleteTweetMenuItem = ({ item }) => {\r\n\r\n  const { user: loggedInUser } = useUser();\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  const handleClick = () => {\r\n\r\n  }\r\n\r\n  const user = item.owner;\r\n\r\n  if(loggedInUser.id !== user.id) \r\n    return null; // Ignore myself\r\n\r\n  return (\r\n    <MenuButton onClick={handleClick}>\r\n      <TrashIcon color={theme.accentColor} />\r\n      <p>DeleteTweet</p>\r\n    </MenuButton>\r\n  );\r\n};\r\n\r\nexport default DeleteTweetMenuItem;\r\n","import React, { useContext, useState } from \"react\";\r\nimport MenuButton from \"../../styles/MenuButton\";\r\nimport { ThemeContext } from \"../../context/ThemeContext\";\r\nimport { Diagram2 } from 'react-bootstrap-icons';\r\nimport useUser from \"../../hooks/useUser\";\r\nimport ScoreGraphModal from \"../Analyse/ScoreGraphModal\";\r\n\r\nconst ScoreGraph = ({ user, popupClose }) => {\r\n\r\n  const { user: loggedInUser } = useUser();\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const openModal = () => {\r\n    setOpen(true);\r\n  }\r\n  const closeModal = () => {\r\n    setOpen(false);\r\n    popupClose();\r\n  }\r\n  const saveModal = (obj) => { \r\n      console.log(obj); \r\n      closeModal();\r\n    }\r\n\r\n  if(loggedInUser.id === user.id) \r\n    return null; // Ignore myself\r\n\r\n  return (\r\n    <MenuButton onClick={openModal}>\r\n      <Diagram2 color={theme.accentColor} />\r\n      <p>Score Graph</p>\r\n      <ScoreGraphModal open={open} onClose={closeModal} saveModal={saveModal} \r\n      header={\"Score Graph\"} saveTitle={\"Save\"} user={user} />\r\n    </MenuButton>\r\n  );\r\n};\r\n\r\nexport default ScoreGraph;\r\n","import React, { useContext } from \"react\";\r\nimport { ThemeContext } from \"styled-components\";\r\nimport styled from \"styled-components\";\r\nimport Popup from \"reactjs-popup\";\r\nimport FollowUser from \"../MenuItems/FollowUser\";\r\nimport MuteUser from \"../MenuItems/MuteUser\";\r\nimport BlockUser from \"../MenuItems/BlockUser\";\r\nimport AnalyseGraph from \"../MenuItems/AnalyseGraph\";\r\nimport TrustUser from \"../MenuItems/TrustUser\";\r\nimport DeleteTweetMenuItem from \"../MenuItems/DeleteTweetMenuItem\";\r\nimport ScoreGraph from \"../MenuItems/ScoreGraph\";\r\n\r\nconst Wrapper = styled.div`\r\n\r\n  vertical-align: text-top;\r\n\r\n  .btn {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .threedotsRow {\r\n    vertical-align: text-top;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .threedots:after {\r\n    content: '\\\\2807';\r\n    font-size: 20px;\r\n  }\r\n\r\n`;\r\n\r\nconst TweetMenuBtn = React.forwardRef(({ open, ...props }, ref) => {\r\n  return (\r\n    <div ref={ref} {...props}>\r\n     {/* <span className=\"threedots\" >...</span> */}\r\n     <span className=\"threedotsRow\" >...</span>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\nconst TweetMenu = ({ item }) => {\r\n  const theme = useContext(ThemeContext);\r\n\r\n  const contentStyle = {\r\n    width: \"260px\",\r\n    background: theme.background,\r\n    borderRadius: \"6px\",\r\n    border: `1px solid ${theme.tertiaryColor}`,\r\n    boxShadow: theme.bs1,\r\n  };\r\n\r\n  const overlayStyle = {\r\n    background: \"none\",\r\n  };\r\n\r\n  const user = item.owner;\r\n\r\n  return (\r\n    <Wrapper style={{ display: '' }}>\r\n      <Popup\r\n        className=\"btn\"\r\n        trigger={(open) => <TweetMenuBtn open={open} />}\r\n        position=\"bottom right\"\r\n        closeOnDocumentClick\r\n        nested\r\n        contentStyle={contentStyle}\r\n        overlayStyle={overlayStyle}\r\n        arrow={false}\r\n      >\r\n        {close => (\r\n        <React.Fragment>\r\n          <TrustUser user={ user } popupClose={close} />\r\n          <FollowUser user={ user } />\r\n          <MuteUser user={ user } />\r\n          <BlockUser user={ user } popupClose={close} />\r\n          <DeleteTweetMenuItem item={item} />\r\n          <AnalyseGraph user={ user } popupClose={close} />\r\n          <ScoreGraph user={ user } popupClose={close} />\r\n        </React.Fragment>\r\n        )}\r\n      </Popup> \r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default TweetMenu;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport moment from \"moment\";\r\nimport DeleteTweet from \"./DeleteTweet\";\r\nimport ConfirmReject from \"../Message/ConfirmReject\";\r\nimport Retweet from \"./Retweet\";\r\nimport { CommentIcon } from \"../Icons\";\r\nimport AvatarIdenticon from \"../AvatarIdenticon\";\r\nimport useProfile from '../../hooks/useProfile';\r\nimport Degree from \"../Buttons/Degree\";\r\nimport useUserChanged from \"../../hooks/useUserChanged\";\r\nimport TweetMenu from \"./TweetMenu\";\r\nimport resources from \"../../utils/resources\";\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid ${(props) => props.theme.tertiaryColor};\r\n  padding: 1.5rem 1rem 1rem 1rem;\r\n\r\n  .tweet-info-user {\r\n    display: flex;\r\n  }\r\n\r\n  .tweet-info-user span.username {\r\n    font-weight: 500;\r\n  }\r\n\r\n  .tweet-info-user span.secondary {\r\n    padding-left: 0.5rem;\r\n    color: ${(props) => props.theme.secondaryColor};\r\n  }\r\n\r\n  .tweet-info-user div.menu {\r\n    float: right;\r\n    padding-left: 10px;\r\n  }\r\n\r\n\r\n  .tags {\r\n    display: flex;\r\n  }\r\n\r\n  span.tag {\r\n    color: ${(props) => props.theme.accentColor};\r\n    margin-right: 0.4rem;\r\n  }\r\n\r\n  div.tweet-stats {\r\n    display: flex;\r\n    margin-top: 0.5rem;\r\n    align-items: center;\r\n\r\n    div {\r\n      margin-right: 4rem;\r\n      color: ${(props) => props.theme.secondaryColor};\r\n    }\r\n\r\n    svg {\r\n      margin-right: 0.5rem;\r\n    }\r\n\r\n    span {\r\n      display: flex;\r\n      align-items: center;\r\n    }\r\n\r\n    span.comment {\r\n      svg {\r\n        position: relative;\r\n        top: 4px;\r\n      }\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 470px) {\r\n    div.tweet-stats {\r\n      div {\r\n        margin-right: 2.5rem;\r\n      }\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 430px) {\r\n    flex-direction: column;\r\n\r\n    .username {\r\n      display: none;\r\n    }\r\n\r\n    .avatar {\r\n      display: none;\r\n    }\r\n\r\n    .tweet-info-user span.secondary {\r\n      padding-left: 0;\r\n      padding-right: 0.7rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Tweet = ({ item }) => {\r\n\r\n  const [,] = useUserChanged(item.owner);\r\n\r\n  const profile = useProfile(item.owner);\r\n\r\n  const userid = item.owner.id;\r\n  const { handle, displayname } = profile;\r\n\r\n  const itemUri = encodeURIComponent(item.soul);\r\n\r\n  if(item.owner.state.action === resources.node.names.block || item.owner.state.action === resources.node.names.mute)\r\n    return null;\r\n  \r\n  return (\r\n    <Wrapper>\r\n      <Link to={`/${userid}`}>\r\n        <AvatarIdenticon id={userid} profile={profile} />\r\n      </Link>\r\n\r\n      <div className=\"tweet-info\">\r\n        <div className=\"tweet-info-user\">\r\n          <Degree user={item.owner}></Degree>\r\n          <div className=\"menu\">\r\n            <Link to={`/${userid}`}>\r\n              <span className=\"username\">{displayname}</span>\r\n              <span className=\"secondary\">{`@${handle}`}</span>\r\n              <span className=\"secondary\">- {moment(item.data.createdAt).fromNow()}</span>\r\n            </Link>\r\n          </div>\r\n          <div className=\"menu\">\r\n            <TweetMenu item={item} />\r\n          </div>\r\n        </div>\r\n\r\n        <Link to={`/tweet/${ itemUri }`}>\r\n          <p>{item.data.text}</p>\r\n        </Link>\r\n\r\n        {/* <div className=\"tags\">\r\n          {tags.length\r\n            ? tags.map((tag) => (\r\n                <span key={tag} className=\"tag\">\r\n                  {tag}\r\n                </span>\r\n              ))\r\n            : null}\r\n        </div> */}\r\n\r\n        {/* <Link to={`/${handle}/time/${id}`}>\r\n          {files && files.length && files[0] ? (\r\n            <TweetFile src={files[0].url} alt=\"tweet-file\" />\r\n          ) : null}\r\n        </Link> */}\r\n\r\n        <div className=\"tweet-stats\">\r\n          <div>\r\n            <span className=\"comment\">\r\n              <Link to={`/tweet/${ itemUri }`}>\r\n                <CommentIcon />\r\n                {0 ? 0 : null}\r\n              </Link>\r\n            </span>\r\n          </div>\r\n\r\n          <div>\r\n            <Retweet\r\n              id={item.id}\r\n              isRetweet={true}\r\n              retweetsCount={0}\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <ConfirmReject id={item.id} item={item} />\r\n          </div>\r\n\r\n          <div>\r\n            <span>{true ? <DeleteTweet item={item} /> : null}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Tweet;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: 70vh;\r\n  font-size: 1.1rem;\r\n  text-align: justify;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 4rem;\r\n\r\n  @media screen and (max-width: 530px) {\r\n    font-size: 1rem;\r\n  }\r\n`;\r\n\r\nconst CustomResponse = ({ text }) => (\r\n  <Wrapper>\r\n    <p>{text}</p>\r\n  </Wrapper>\r\n);\r\nexport default CustomResponse;","import React, { useEffect} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"./Loader\";\r\nimport Tweet from \"./Tweet/Tweet\";\r\nimport CustomResponse from \"./CustomResponse\";\r\nimport useUser from \"../hooks/useUser\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  margin-bottom: 7rem;\r\n`;\r\n\r\nconst FeedList = () => {\r\n\r\n  const { feed, feedReady, setFeed, resetFeedReady } = useUser(); \r\n\r\n  // Events\r\n  // Page load, effect run\r\n  // Message comes in\r\n  // result : empty list\r\n  // Want: Waiting loader.... for 5 secords.\r\n\r\n  // Solution timeout!\r\n  // Run effect - result empty, then rerun 5 times 1 sec interval.\r\n\r\n  // Start the effect on page load\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  useEffect(() => {\r\n\r\n    const loadFeed = () => {\r\n      let temp = feed || [];\r\n\r\n      const items = Object.values(feedReady);\r\n      if(items.length > 0) {\r\n        setFeed([...items, ...temp]); // Simply copy ready feed, more advanced sorting on date etc. may be implemented.\r\n        resetFeedReady();\r\n        console.log(\"FeedList setFeed\");\r\n        return true;\r\n      }\r\n\r\n      if(feed)  // No new messages but we have a feed already\r\n        return true;\r\n\r\n      return false;\r\n    }\r\n\r\n    if(loadFeed()) // Check now for messages\r\n      return;\r\n\r\n    // We have an null feed and no messages, wait 5 seconds for messages.\r\n    let count = 5;\r\n    let timerId = setInterval(() => {\r\n      console.log(\"LoadFeed interval \" + count);\r\n      \r\n      if(loadFeed()) { // Load new messages\r\n        clearInterval(timerId);\r\n        return;\r\n      }\r\n\r\n      count--;\r\n      if(count === 0) { // Feed is null, and no messages found, make empty feed.\r\n        setFeed([]);\r\n        clearInterval(timerId);\r\n        return;\r\n      }\r\n\r\n    }, 1000);\r\n\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  if(!feed) return <Loader />;\r\n\r\n  return (\r\n    <Wrapper>\r\n      {feed.length ? (\r\n          feed.map(item => \r\n            <Tweet key={item.soul} item={item} />\r\n          )\r\n      ) : (\r\n        <CustomResponse text=\"Follow some people to get some feed updates\" />\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default FeedList;\r\n","import styled, { css } from \"styled-components\";\r\n\r\nexport default styled.img`\r\n  width: 500px;\r\n  height: 285px;\r\n  border-radius: 10px;\r\n  object-fit: cover;\r\n  margin-top: 0.5rem;\r\n\r\n  ${(props) =>\r\n    props.newtweet &&\r\n    css`\r\n      margin-bottom: 1.5rem;\r\n    `}\r\n\r\n  @media screen and (max-width: 530px) {\r\n    width: 350px;\r\n    height: 260px;\r\n  }\r\n\r\n  @media screen and (max-width: 430px) {\r\n    width: 100%;\r\n    height: 220px;\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { toast } from \"react-toastify\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport useInput from \"../../hooks/useInput\";\r\nimport Button from \"../../styles/Button\";\r\nimport TweetFile from \"../../styles/TweetFile\";\r\nimport { UploadFileIcon } from \"../Icons\";\r\nimport { displayError } from \"../../utils\";\r\nimport AvatarIdenticon from \"../AvatarIdenticon\";\r\nimport { uploadImage } from \"../../utils\";\r\nimport Loader from \"../Loader\";\r\nimport useUser  from '../../hooks/useUser';\r\nimport resources from '../../utils/resources';\r\nimport useProfile from \"../../hooks/useProfile\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  padding: 1rem 1rem;\r\n  border-bottom: 7px solid ${(props) => props.theme.tertiaryColor};\r\n\r\n  textarea {\r\n    width: 100%;\r\n    background: inherit;\r\n    border: none;\r\n    font-size: 1.23rem;\r\n    font-family: ${(props) => props.theme.font};\r\n    color: ${(props) => props.theme.primaryColor};\r\n    margin-bottom: 1.4rem;\r\n  }\r\n\r\n  .new-tweet {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .new-tweet-action {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  svg {\r\n    width: 24px;\r\n    height: 24px;\r\n    fill: ${(props) => props.theme.accentColor};\r\n    margin-right: 2rem;\r\n    cursor: pointer;\r\n  }\r\n\r\n  button {\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst NewTweet = () => {\r\n  const [tweetFiles, setTweetFiles] = useState([]);\r\n  const tweet = useInput(\"\");\r\n\r\n  const { user, gun } = useUser();\r\n  const profile = useProfile(user);\r\n\r\n  // Create a tweet on Gun\r\n  const createTweet = async (tweet) => {\r\n    // Timestamp the tweet automatically, this will enable time search on the users Tweets node.\r\n    const date = new Date();\r\n    //const tweetId = moment().toISOString();\r\n    const tweetId = date.toISOString();\r\n\r\n    tweet.createdAt = tweetId;\r\n\r\n    const tweetNode = user.node.tweets.get(date); \r\n    const tweetData = await tweetNode.put(tweet).then(); // Add Tweet to DateTree and wait for the Gun data object.\r\n\r\n    user.node.tweetsMetadata.get(resources.node.names.latest).put(tweetData); // Add the tweet to the latest tweets for all the subscribtions.\r\n\r\n    // Add comments object from the Gun root, as this is writeable for everone.\r\n    const comments = gun.get(resources.node.names.dpeep).get(resources.node.names.comments).get(user.id).get(tweetId);\r\n    const commentsData = comments.put({}); \r\n    tweetNode.get(resources.node.names.comments).put(commentsData);\r\n  }\r\n\r\n  const handleNewTweet = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!tweet.value) return toast(\"Write something\");\r\n\r\n    const tags = tweet.value.split(\" \").filter((str) => str.startsWith(\"#\")).join(', ');\r\n\r\n    try {\r\n      let tweetdata = { \"text\" : tweet.value, \"tags\": tags };\r\n      \r\n      await createTweet(tweetdata);\r\n\r\n      //toast.success(\"Your tweet has been posted\");\r\n    } catch (err) {\r\n      return displayError(err);\r\n    }\r\n\r\n    tweet.setValue(\"\");\r\n    setTweetFiles([]);\r\n  };\r\n\r\n  const handleTweetFiles = async (e) => {\r\n    const imageUrl = await uploadImage(e.target.files[0]);\r\n    setTweetFiles([...tweetFiles, imageUrl]);\r\n  };\r\n\r\n  if (!user) return <Loader />;\r\n\r\n  return (\r\n    <Wrapper>\r\n\r\n      <AvatarIdenticon id={user.id} profile={profile} />\r\n      {/* <Identicon string={user.id} size=\"32\" /> */}\r\n      {/* <Avatar src={profile && profile.avatar} alt=\"avatar\" /> */}\r\n      <form onSubmit={handleNewTweet}>\r\n        <div className=\"new-tweet\">\r\n          <TextareaAutosize\r\n            cols=\"48\"\r\n            placeholder=\"What's happening?\"\r\n            type=\"text\"\r\n            value={tweet.value}\r\n            onChange={tweet.onChange}\r\n          />\r\n\r\n          {tweetFiles[0] && (\r\n            <TweetFile newtweet src={tweetFiles[0]} alt=\"preview\" />\r\n          )}\r\n\r\n          <div className=\"new-tweet-action\">\r\n            <div className=\"svg-input\">\r\n              <label htmlFor=\"file-input\">\r\n                <UploadFileIcon />\r\n              </label>\r\n              <input id=\"file-input\" accept=\"image/*\" type=\"file\" onChange={handleTweetFiles} />\r\n            </div>\r\n            <Button sm disabled={false}>\r\n              Tweet\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default NewTweet;\r\n","import React, { useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport useUser from \"../hooks/useUser\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n    text-align: justify;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n\r\nconst FeedStatus = () => {\r\n\r\n  const { feedReady, messageReceived, loadFeed } = useUser(); \r\n\r\n  const [ messageCount, setMessageCount] = useState(0);\r\n  \r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  useEffect(() => {\r\n\r\n    const items = Object.values(feedReady);\r\n    setMessageCount(items.length);\r\n    \r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [messageReceived])\r\n\r\n  \r\n  if(messageCount === 0) return null;\r\n  console.log(\"FeedStatus render\");\r\n\r\n  return (\r\n    <Wrapper>\r\n        <NavLink to='/' onClick={loadFeed}>\r\n        New messages: {messageCount}\r\n        </NavLink>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default FeedStatus;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 0.6rem 1rem;\r\n  font-size: 1.2rem;\r\n  border-bottom: 1px solid ${(props) => props.theme.tertiaryColor};\r\n  font-weight: 500;\r\n`;\r\n\r\nconst Header = ({ children }) => <Wrapper>{children}</Wrapper>;\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport FeedList from \"../components/FeedList\";\r\nimport NewTweet from \"../components/Tweet/NewTweet\";\r\nimport FeedStatus from \"../components/FeedStatus\";\r\nimport Header from \"../components/Header\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst Home = () => {\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t<Header>\r\n\t\t\t\t<span>Home</span>\r\n\t\t\t</Header>\r\n\t\t\t<NewTweet />\r\n\t\t\t<FeedStatus />\r\n\t\t\t<FeedList />\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\n//import { useParams } from \"react-router-dom\";\r\n//import { useMutation } from \"@apollo/react-hooks\";\r\nimport { toast } from \"react-toastify\";\r\n// import { TWEET } from \"../../queries/tweet\";\r\n// import { DELETE_COMMENT } from \"../../queries/comment\";\r\nimport { TrashIcon } from \"../Icons\";\r\n\r\nconst DeleteComment = ({ id }) => {\r\n  //const { tweetId } = useParams();\r\n\r\n  // const [deleteCommentMutation, { loading }] = useMutation(DELETE_COMMENT, {\r\n  //   variables: { id },\r\n  //   update: (cache, { data: { deleteComment } }) => {\r\n  //     const { tweet } = cache.readQuery({\r\n  //       query: TWEET,\r\n  //       variables: { id: tweetId },\r\n  //     });\r\n\r\n  //     cache.writeQuery({\r\n  //       query: TWEET,\r\n  //       data: {\r\n  //         tweet: {\r\n  //           ...tweet,\r\n  //           commentsCount: tweet.commentsCount - 1,\r\n  //           comments: tweet.comments.filter(\r\n  //             (comment) => comment.id !== deleteComment.id\r\n  //           ),\r\n  //         },\r\n  //       },\r\n  //     });\r\n  //   },\r\n  // });\r\n  const loading = true;\r\n\r\n  const handleDeleteComment = async () => {\r\n    //await deleteCommentMutation();\r\n    toast.success(\"Your comment has been deleted\");\r\n  };\r\n\r\n  return <TrashIcon loading={loading} onClick={handleDeleteComment} />;\r\n};\r\n\r\nexport default DeleteComment;\r\n","import React, { useState } from \"react\";\r\nimport { CheckCircle, CheckCircleFill } from 'react-bootstrap-icons';\r\n\r\nconst Confirm = ({ id, isConfirmed, confirmCount }) => {\r\n  const [confirmed, setLiked] = useState(isConfirmed);\r\n  const [confirmedCountState, setLikesCount] = useState(confirmCount);\r\n\r\n  const handleToggleLike = () => {\r\n    setLiked(!confirmed);\r\n    if (confirmed) {\r\n      setLikesCount(confirmedCountState - 1);\r\n    } else {\r\n      setLikesCount(confirmedCountState + 1);\r\n    }\r\n    // TODO: Add to Gun\r\n  };\r\n\r\n  return (\r\n    <span>\r\n      {confirmed ? (\r\n        <CheckCircleFill color=\"#E0245E\" onClick={handleToggleLike} />\r\n      ) : (\r\n        <CheckCircle onClick={handleToggleLike} />\r\n      )}\r\n      {confirmedCountState ? confirmedCountState : null}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Confirm;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport AvatarIdenticon from \"../AvatarIdenticon\";\r\nimport DeleteComment from \"./DeleteComment\";\r\n//import useUser  from '../../hooks/useUser';\r\nimport Confirm from \"../Message/Confirm\";\r\nimport useProfile from '../../hooks/useProfile';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  border-bottom: 1px solid ${(props) => props.theme.tertiaryColor};\r\n  padding: 1.5rem 1rem 1rem 1rem;\r\n\r\n  .comment-info-user {\r\n    display: flex;\r\n\r\n    svg {\r\n      margin-left: 0.6rem;\r\n      position: relative;\r\n      top: 3px;\r\n    }\r\n  }\r\n\r\n  .comment-info-user span.username {\r\n    font-weight: 500;\r\n  }\r\n\r\n  .comment-info-user span.secondary {\r\n    padding-left: 0.5rem;\r\n    color: ${(props) => props.theme.secondaryColor};\r\n  }\r\n\r\n  @media screen and (max-width: 430px) {\r\n    flex-direction: column;\r\n\r\n    .comment-info-user {\r\n      font-size: 0.83rem;\r\n    }\r\n\r\n    .avatar {\r\n      display: none;\r\n    }\r\n\r\n    .username {\r\n      display: none;\r\n    }\r\n\r\n    .comment-info-user span.secondary {\r\n      padding-left: 0;\r\n\r\n      :first-child {\r\n        padding-right: 0.6rem;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Comment = ({ item }) => {\r\n\r\n  const profile = useProfile(item.owner);\r\n\r\n  const { handle, displayname } = profile;\r\n\r\n  const { id, data, isCommentMine, owner } = item;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Link to={`/${owner.id}`}>\r\n        <AvatarIdenticon id={owner.id} profile={profile} />\r\n      </Link>\r\n      <div className=\"comment-info\">\r\n        <div className=\"comment-info-user\">\r\n          <span className=\"username\">{displayname}</span>\r\n          <Link to={`/${handle}`}>\r\n            <span className=\"secondary\">{`@${handle}`}</span>\r\n            <span className=\"secondary\">{moment(item.data.createdAt).fromNow()}</span>\r\n          </Link>\r\n          <span>{isCommentMine ? <DeleteComment id={id} /> : null}</span>\r\n        </div>\r\n\r\n        <p>{data.text}</p>\r\n      </div>\r\n      <div>\r\n          <Confirm id={item.id} isConfirmed={item.confirmed || false} confirmCount={0} />\r\n      </div>\r\n\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { toast } from \"react-toastify\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\n\r\nimport useInput from \"../../hooks/useInput\";\r\nimport Button from \"../../styles/Button\";\r\nimport { displayError } from \"../../utils\";\r\nimport AvatarIdenticon from \"../AvatarIdenticon\";\r\n\r\nimport Loader from \"../Loader\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport resources from '../../utils/resources';\r\nimport { DateTree } from 'gun-util';\r\n\r\n\r\nconst Wrapper = styled.div`\r\n\tdisplay: flex;\r\n\tpadding: 1rem 1rem;\r\n\tborder-bottom: 1px solid ${(props) => props.theme.tertiaryColor};\r\n\r\n\ttextarea {\r\n\t\twidth: 100%;\r\n\t\tbackground: inherit;\r\n\t\tborder: none;\r\n\t\tfont-size: 1.23rem;\r\n\t\tfont-family: ${(props) => props.theme.font};\r\n\t\tcolor: ${(props) => props.theme.primaryColor};\r\n\t\tmargin-bottom: 1.4rem;\r\n\t}\r\n\r\n\t.add-comment {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.add-comment-action\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t@media screen and (max-width: 530px) {\r\n\t\ttextarea {\r\n\t\t  font-size: 0.9rem;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst AddComment = ({ tweetNode }) => {\r\n\r\n  const { user } = useUser();\r\n\r\n  const comment = useInput(\"\");\r\n\r\n  const handleAddComment = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!comment.value) return toast(\"Reply something\");\r\n\r\n    try {\r\n\r\n\r\n      const date = new Date();\r\n      //const tweetId = moment().toISOString();\r\n      const commentId = date.toISOString();\r\n  \r\n      const data = {\r\n        text: comment.value,\r\n        createdAt: commentId\r\n      }\r\n      \r\n      const commentNode = user.node.comments.get(date); \r\n      const commentData = await commentNode.put(data).then(); // Add Comment to DateTree and wait for the Gun data object.\r\n      commentNode.get(resources.node.names.tweet).put(tweetNode); // Add a reference to the Tweet object\r\n\r\n      const tweetCommentsTree = new DateTree(tweetNode.get(resources.node.names.comments), 'millisecond');\r\n      tweetCommentsTree.get(date).get(user.id).put(commentData);\r\n\r\n      toast.success(\"Your reply has been added\");\r\n    } catch (err) {\r\n      return displayError(err);\r\n    }\r\n\r\n    comment.setValue(\"\");\r\n  };\r\n\r\n\r\n  if (!user) return <Loader />;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <AvatarIdenticon id={user.id} profile={user.profile} />\r\n\r\n      <form onSubmit={handleAddComment}>\r\n        <div className=\"add-comment\">\r\n          <TextareaAutosize\r\n            cols=\"48\"\r\n            placeholder=\"Tweet your reply\"\r\n            type=\"text\"\r\n            value={comment.value}\r\n            onChange={comment.onChange}\r\n          />\r\n\r\n          <div className=\"add-comment-action\">\r\n            <Button sm>\r\n              Reply\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default AddComment;\r\n","// import { DateTree } from \"gun-util\";\r\n// import { DispatcherEvent } from \"./DispatcherEvent\";\r\n// import resources from \"./resources\";\r\nimport Gun from 'gun/gun';\r\n\r\nexport class CommentContainer {\r\n\r\n    constructor(data, getUser) {\r\n        this.soul = Gun.node.soul(data);\r\n        const soulElem = this.soul.split('/');\r\n        this.userId = soulElem.shift(); // Get user ID, should be the same as Owner\r\n        soulElem.shift(); // Just shift dpeep\r\n        this.category = soulElem.shift(); \r\n\r\n        // Based on DateTime UTC format\r\n        this.id = `${soulElem[0]}-${soulElem[1]}-${soulElem[2]}T${soulElem[3]}:${soulElem[4]}:${soulElem[5]}.${soulElem[6]}Z`\r\n\r\n        this.data = data;\r\n        this.confirmedBy = {};\r\n        if(getUser)\r\n            this.setOwner(getUser);\r\n\r\n    }\r\n\r\n    setOwner(getUser) {\r\n        this.owner = getUser(this.userId);\r\n    }\r\n\r\n    get node() {\r\n        return this._node ?? (this._node = this.owner.node.comments.get(this.id));\r\n    }\r\n    \r\n    set node(node) {\r\n        this._node = node;\r\n    }\r\n\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../Header\";\r\nimport Loader from \"../Loader\";\r\nimport Tweet from \"./Tweet\";\r\nimport Comment from \"../Comment/Comment\";\r\nimport AddComment from \"../Comment/AddComment\";\r\nimport useUser  from '../../hooks/useUser';\r\nimport resources from \"../../utils/resources\";\r\nimport { DateTree } from 'gun-util';\r\nimport { TweetContainer } from \"../../utils/TweetContainer\";\r\nimport { CommentContainer } from \"../../utils/CommentContainer\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  margin-bottom: 7rem;\r\n`;\r\n\r\nconst MasterTweet = () => {\r\n  const { handle } = useParams();\r\n  const { getUserContainerById } = useUser();\r\n  const [ tweet, setTweet] = useState();\r\n  const [ comments, setComments] = useState();\r\n  const [ tweetNode, setTweetNode] = useState();\r\n\r\n  useEffect(() => {\r\n    if(tweet) return;\r\n\r\n    (async() => {\r\n      \r\n      const soul = decodeURIComponent(handle);\r\n      const soulElem = soul.split('/');\r\n      const userId = soulElem.shift();\r\n      const userContainer = getUserContainerById(userId);\r\n      \r\n      soulElem.shift(); // Shift dpeep\r\n      soulElem.shift(); // Shift tweets\r\n      \r\n      const dateString = `${soulElem[0]}-${soulElem[1]}-${soulElem[2]}T${soulElem[3]}:${soulElem[4]}:${soulElem[5]}.${soulElem[6]}Z`\r\n\r\n      const node = userContainer.node.tweets.get(dateString);\r\n      setTweetNode(node);\r\n      \r\n      const data = await node.then(); \r\n\r\n      const tweet = new TweetContainer(data, getUserContainerById);\r\n      \r\n      setTweet(tweet);\r\n\r\n      // The comments of the Tweet node, is from the public Gun space without user write restrictions.\r\n      const commentsTree = new DateTree(node.get(resources.node.names.comments), 'millisecond');\r\n\r\n      let list = [];\r\n      for await (let [ref] of commentsTree.iterate({ order: 1 })) {\r\n          let data = await ref.then();\r\n          if(!data) continue;\r\n\r\n          const keys = Object.keys(data).filter( p=> p !== '_')\r\n          for(let key of keys) {\r\n            const item = await ref.get(key).then();\r\n            //const item = data[key];\r\n            const container = new CommentContainer(item, getUserContainerById);\r\n            list.push(container);\r\n          };\r\n      }\r\n\r\n      setComments(list);\r\n    })();\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [handle]);\r\n\r\n  if(!tweet) return <Loader />\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Header>\r\n        <span>Tweet</span>\r\n      </Header>\r\n        <>\r\n          <Tweet key={tweet.soul} item={tweet} />\r\n          <AddComment tweetNode={tweetNode} />\r\n          {\r\n            (comments) ?\r\n            comments.map((item) => (<Comment key={item.id} item={item} />)) \r\n            : \r\n            <p>No comments or in process of loading.</p>\r\n          }\r\n        </>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default MasterTweet;\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.img`\r\n  height: 200px;\r\n  width: 100%;\r\n  object-fit: cover;\r\n`;\r\n","import { useState, useEffect } from 'react';\r\nimport useUser from \"./useUser\";\r\n//import resources from '../utils/resources';\r\n//import Gun from 'gun/gun';\r\nimport 'gun/lib/promise';\r\nimport 'gun/lib/not';\r\n\r\n\r\n\r\n// function GetItemIds(data) {\r\n//   if(!data || !data[\"_\"])\r\n//     return undefined;\r\n\r\n//   const soul = Gun.node.soul(data);\r\n//   const soulElem = soul.split('/');\r\n//   const userId = soulElem.shift();\r\n//   soulElem.shift(); // Just shift to next element\r\n//   const category = soulElem.shift();\r\n//   if(category === \"relationships\") {\r\n//     const year = soulElem.shift(); // Just shift to next element\r\n//     const month = soulElem.shift(); // Just shift to next element\r\n//     const date =new Date(year, month, 1);\r\n//     const targetUserId = soulElem.shift();\r\n//     return { userId, category, date, targetUserId };\r\n//   }\r\n//   const itemId = soulElem.join('/');\r\n\r\n//   return { userId, category, itemId};\r\n\r\n// }\r\n\r\nconst useFollow = (user) => {\r\n\r\n  const { user: loggedInUser } = useUser();\r\n\r\n  const [followState, setFollow] = useState(null);\r\n  const [node, setNode] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    console.log(\"useFollow -> useEffect called\");\r\n    if(!user) return;\r\n    // Load relationship, even that is may be in the users relationshipBy, but because of race condition load it from Gun. \r\n    const relationshipNode = loggedInUser.node.relationships.get('~'+user.id);\r\n    setNode(relationshipNode);\r\n\r\n    relationshipNode.once((data, key) => {\r\n      setFollow((data && data[\"action\"]) || \"neutral\"); // Fail safe for missing action property\r\n    }, {wait: 100});\r\n\r\n    // Default setup\r\n    relationshipNode.not(function(key) { \r\n      setFollow(\"neutral\");\r\n    });\r\n  \r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const setFollowState = async () => {\r\n\r\n    let state = (followState === \"neutral\") ? \"follow\" : \"neutral\";\r\n\r\n    node.get(\"action\").put(state);\r\n\r\n    setFollow(state);\r\n  };\r\n\r\n\r\n  return [followState, setFollowState];\r\n}\r\n\r\nexport default useFollow;","import React from \"react\";\r\nimport Button from \"../../styles/Button\";\r\nimport useFollow from \"../../hooks/useFollow\";\r\n\r\n\r\nconst Follow = ({ user, sm = false, relative = false }) => {\r\n\r\n  const [followState, setFollowState] = useFollow(user);\r\n\r\n  const isFollowing =  followState === \"trust\" || followState === \"follow\";\r\n\r\n  return (\r\n    <Button outline={!isFollowing} sm={sm} relative={relative} onClick={setFollowState}>\r\n      {isFollowing ? \"Following\" : \"Follow\"}\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default Follow;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport CoverPhoto from \"../../styles/CoverPhoto\";\r\nimport Button from \"../../styles/Button\";\r\nimport Follow from \"./Follow\";\r\nimport { DobIcon, LocationIcon, LinkIcon } from \"../Icons\";\r\nimport CustomResponse from \"../CustomResponse\";\r\nimport AvatarIdenticon from \"../AvatarIdenticon\";\r\n\r\nconst Wrapper = styled.div`\r\n  border-bottom: 1px solid ${(props) => props.theme.tertiaryColor};\r\n  padding-bottom: 1rem;\r\n\r\n  .avatar {\r\n    margin-left: 1.4rem;\r\n    margin-top: -4rem;\r\n  }\r\n\r\n  .profile-name-handle {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 1.4rem;\r\n    position: relative;\r\n    top: -16px;\r\n\r\n    span.fullname {\r\n      font-weight: bold;\r\n    }\r\n\r\n    span.handle {\r\n      margin-top: 0.1rem;\r\n      color: ${(props) => props.theme.secondaryColor};\r\n    }\r\n  }\r\n\r\n  .profile-info {\r\n    padding-left: 1.4rem;\r\n\r\n    .bio {\r\n      width: 90%;\r\n    }\r\n  }\r\n\r\n  div.loc-dob-web {\r\n    display: flex;\r\n    color: ${(props) => props.theme.secondaryColor};\r\n    margin: 0.6rem 0;\r\n\r\n    span {\r\n      margin-right: 1.5rem;\r\n    }\r\n\r\n    svg {\r\n      margin-right: 0.2rem;\r\n      position: relative;\r\n      top: 3px;\r\n    }\r\n  }\r\n\r\n  div.follow-following {\r\n    color: ${(props) => props.theme.secondaryColor};\r\n    span {\r\n      margin-right: 1.3rem;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: 530px) {\r\n    div.loc-dob-web {\r\n      display: flex;\r\n      flex-direction: column;\r\n\r\n      span {\r\n        margin-bottom: 0.7rem;\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst ProfileInfo = ({ user, profile, isSelf }) => {\r\n  if (!profile) {\r\n    return (\r\n      <CustomResponse text=\"Oops, you are trying to visit a profile which seems to be doesn't exist. Make sure the profile handle exists\" />\r\n    );\r\n  }\r\n\r\n  const {\r\n    id,\r\n    coverPhoto,\r\n    bio,\r\n    location,\r\n    website,\r\n    dob,\r\n    isFollowing,\r\n    followersCount,\r\n    followingCount,\r\n    handle,\r\n    displayname,\r\n  } = profile;\r\n\r\n  \r\n  return (\r\n    <Wrapper>\r\n      <CoverPhoto src={coverPhoto || '/tropical_paradise_204378.jpg'} alt=\"cover\" />\r\n      <div className=\"avatar\">\r\n        <AvatarIdenticon id={user.id} profile={profile} />\r\n      </div>\r\n\r\n      {isSelf ? (\r\n        <Link to=\"/settings/profile\">\r\n          <Button relative outline className=\"action-btn\">\r\n            Edit Profile\r\n          </Button>\r\n        </Link>\r\n      ) : (\r\n        <Follow\r\n          relative\r\n          className=\"action-btn\"\r\n          user={isFollowing}\r\n          id={id}\r\n        />\r\n      )}\r\n\r\n      <div className=\"profile-name-handle\">\r\n        <span className=\"fullname\">{displayname}</span>\r\n        <span className=\"handle\">{`@${handle}`}</span>\r\n      </div>\r\n\r\n      <div className=\"profile-info\">\r\n        <p className=\"bio\">{bio}</p>\r\n\r\n        {!location && !website && !dob ? null : (\r\n          <div className=\"loc-dob-web\">\r\n            {location ? (\r\n              <span>\r\n                <LocationIcon /> {location}\r\n              </span>\r\n            ) : null}\r\n\r\n            {website ? (\r\n              <span>\r\n                <LinkIcon /> {website}\r\n              </span>\r\n            ) : null}\r\n\r\n            {dob ? (\r\n              <span>\r\n                <DobIcon />\r\n                {dob}\r\n              </span>\r\n            ) : null}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"follow-following\">\r\n          <span>\r\n            {followersCount ? `${followersCount} followers` : \"No followers\"}\r\n          </span>\r\n          <span>\r\n            {followingCount\r\n              ? `${followingCount} following`\r\n              : \"Not following anyone\"}\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React, { useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"../Loader\";\r\nimport Tweet from \"../Tweet/Tweet\";\r\nimport CustomResponse from \"../CustomResponse\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport { Policy } from \"../../utils/Policy\";\r\nimport { TweetContainer } from \"../../utils/TweetContainer\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  margin-bottom: 7rem;\r\n`;\r\n\r\nconst ProfileFeed = ({ user }) => {\r\n\r\n  const { getUserContainerById, user: loggedInUser } = useUser(); \r\n\r\n  const [feed, setFeed] = useState(undefined);\r\n  // Start the effect on page load\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  useEffect(() => {\r\n\r\n    setFeed(undefined); // Reset feed, in case of old data.\r\n\r\n    const tweets = user.node.tweets;\r\n    (async () => {\r\n      let data = [];\r\n      // A naive implementation would have close to a billion\r\n      // nodes and would take forever to iterate.\r\n      // This takes only a second to iterate the first items:\r\n      \r\n      // TODO: Limit the number items loaded. This may be move to a load initialy and then more items. \r\n      for await (let [node] of tweets.iterate({ order: -1 })) {\r\n          let tweet = await node.then();\r\n\r\n          if(!tweet) continue;\r\n          const item = new TweetContainer(tweet, getUserContainerById);\r\n          item.node = node;\r\n\r\n          if(Policy.addTweet(item, loggedInUser, null)) // Check with the policy before adding to feed.\r\n            data.push(item);\r\n      }\r\n\r\n      setFeed(data);\r\n    })();\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user])\r\n\r\n  if(!feed) return <Loader />; // Wait for the feed to be loaded\r\n\r\n  return (\r\n    <Wrapper>\r\n      {feed.length ? (\r\n          feed.map(item => \r\n            <Tweet key={item.soul} item={item} />\r\n          )\r\n      ) : (\r\n        <CustomResponse text=\"There is nothing - white some content\" />\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ProfileFeed;\r\n","import React, { useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"../Loader\";\r\nimport Comment from \"./Comment\";\r\nimport CustomResponse from \"../CustomResponse\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport { CommentContainer } from \"../../utils/CommentContainer\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n  margin-bottom: 7rem;\r\n`;\r\n\r\nconst CommentsFeed = ({ user }) => {\r\n  const { getUserContainerById } = useUser(); \r\n  const [feed, setFeed] = useState();\r\n\r\n  // Start the effect on page load\r\n  // eslint-disable-next-line react-hooks/rules-of-hooks\r\n  useEffect(() => {\r\n\r\n    if(feed) \r\n      return; // The feed has been loaded, do not reload\r\n\r\n    const comments = user.node.comments;\r\n\r\n    (async () => {\r\n      let list = [];\r\n      for await (let [ref] of comments.iterate({ order: -1 })) {\r\n          let data = await ref.then();\r\n          if(!data) continue;\r\n          const item = new CommentContainer(data, getUserContainerById);\r\n          list.push(item);\r\n      }\r\n\r\n      setFeed(list);\r\n    })();\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  if(!feed) return <Loader />; // Wait for the feed to be loaded\r\n\r\n  return (\r\n    <Wrapper>\r\n      {feed.length ? (\r\n          feed.map(item => \r\n            <Comment key={item.id} item={item} />\r\n          )\r\n      ) : (\r\n        <CustomResponse text=\"There is nothing - white some content\" />\r\n      )}\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default CommentsFeed;\r\n","import { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\r\nimport styled from \"styled-components\";\r\nimport ProfileFeed from \"./ProfileFeed\";\r\nimport CommentsFeed from \"../Comment/CommentsFeed\";\r\n\r\nconst Wrapper = styled.div`\r\n\r\n\r\n.react-tabs {\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\n.react-tabs__tab-list {\r\n  border-bottom: 1px solid #aaa;\r\n  margin: 0 0 10px;\r\n  padding: 0;\r\n}\r\n\r\n.react-tabs__tab {\r\n  display: inline-block;\r\n  border: 1px solid transparent;\r\n  border-bottom: none;\r\n  bottom: -1px;\r\n  position: relative;\r\n  list-style: none;\r\n  padding: 6px 12px;\r\n  cursor: pointer;\r\n}\r\n\r\n.react-tabs__tab--selected {\r\n  border-radius: 5px 5px 0 0;\r\n  text-decoration: underline;\r\n}\r\n\r\n.react-tabs__tab--disabled {\r\n  color: GrayText;\r\n  cursor: default;\r\n}\r\n\r\n.react-tabs__tab:focus {\r\n  box-shadow: 0 0 5px hsl(208, 99%, 50%);\r\n  border-color: hsl(208, 99%, 50%);\r\n  outline: none;\r\n}\r\n\r\n.react-tabs__tab:focus:after {\r\n  content: \"\";\r\n  position: absolute;\r\n  height: 5px;\r\n  left: -4px;\r\n  right: -4px;\r\n  bottom: -5px;\r\n  \r\n}\r\n\r\n.react-tabs__tab-panel {\r\n  display: none;\r\n}\r\n\r\n.react-tabs__tab-panel--selected {\r\n  display: block;\r\n}\r\n`;\r\n\r\nconst ProfileTabs = ( {user} ) => (\r\n  <Wrapper>\r\n  <Tabs>\r\n    <TabList>\r\n      <Tab>Tweets</Tab>\r\n      <Tab>Tweets and Replies</Tab>\r\n    </TabList>\r\n\r\n    <TabPanel>\r\n      <ProfileFeed user={user} />\r\n    </TabPanel>\r\n    <TabPanel>\r\n      <CommentsFeed user={user} />\r\n    </TabPanel>\r\n  </Tabs>\r\n  </Wrapper>\r\n);\r\n\r\nexport default ProfileTabs;","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../Header\";\r\nimport ProfileInfo from \"./ProfileInfo\";\r\nimport Loader from \"../Loader\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport ProfileTabs from \"./ProfileTabs\";\r\n\r\nconst Wrapper = styled.div`\r\n\tpadding-bottom: 5rem;\r\n\r\n  .profile-top {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 1rem;\r\n\r\n    span.tweetsCount {\r\n      margin-top: 0.1rem;\r\n      color: ${(props) => props.theme.secondaryColor};\r\n      font-size: 0.9rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Profile = () => {\r\n  const { isLoggedIn, user, getUserContainerById } = useUser();\r\n  const { handle } = useParams(); \r\n  const [ viewedUser, setViewedUser] = useState(null);\r\n  const [ profile, setProfile] = useState(null);\r\n  const [ userNotFound, setUserNotFound] = useState(false);\r\n\r\n  \r\n  useEffect(() => {\r\n    const userContainer = getUserContainerById(handle);\r\n    if(!userContainer) {\r\n      setUserNotFound(true);\r\n      return;\r\n    }\r\n    setViewedUser(userContainer);\r\n    setProfile(userContainer.loadProfile((profile) => setProfile(profile))); \r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [handle])\r\n\r\n  if (!profile) \r\n    return <Loader />;\r\n\r\n  if(userNotFound)\r\n    return <p>User not found</p>;\r\n\r\n  const isSelf = (isLoggedIn) ? handle === user.id : false;\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Header>\r\n        <div className=\"profile-top\">\r\n          <span>{profile.handle}</span>\r\n          {/* <span className=\"tweetsCount\">\r\n            {profile && profile.tweetsCount\r\n              ? `${profile.tweetsCount} Tweets`\r\n              : \"No Tweets\"}\r\n          </span> */}\r\n        </div>\r\n      </Header>\r\n      <ProfileInfo user={viewedUser} profile={profile} isSelf={isSelf} />\r\n      {/* {profile && profile.tweets && profile.tweets.length\r\n        ? profile.tweets.map((tweet) => (\r\n            <Tweet key={tweet.id} tweet={tweet} />\r\n          ))\r\n        : null} */}\r\n      <ProfileTabs user={viewedUser} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n\tpadding: 1rem;\r\n`;\r\n\r\nconst Bookmarks = () => {\r\n\treturn <Wrapper>This feature is not yet implemented</Wrapper>;\r\n};\r\n\r\nexport default Bookmarks;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 1rem;\r\n`;\r\n\r\nconst Notifications = () => {\r\n  return <Wrapper>This feature is not yet implemented</Wrapper>;\r\n};\r\n\r\nexport default Notifications;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { toast } from \"react-toastify\";\r\n//import { useLazyQuery } from \"@apollo/react-hooks\";\r\nimport useInput from \"../../hooks/useInput\";\r\nimport { displayError } from \"../../utils\";\r\n// import {\r\n//   SEARCH_BY_USER,\r\n//   SEARCH_BY_TAG,\r\n//   SEARCH_BY_TWEET,\r\n// } from \"../../queries/search\";\r\n//import SearchResult from \"./SearchResult\";\r\n\r\nconst Wrapper = styled.div`\r\n  margin: 1rem 0;\r\n  margin-left: 1rem;\r\n\r\n  input {\r\n    height: 40px;\r\n    width: 70%;\r\n    border-radius: 30px;\r\n    background: ${(props) => props.theme.tertiaryColor2};\r\n    border: ${(props) => props.theme.tertiaryColor2};\r\n    color: ${(props) => props.theme.secondaryColor};\r\n    font-family: ${(props) => props.theme.font};\r\n    font-size: 1rem;\r\n    padding-left: 1.2rem;\r\n  }\r\n\r\n  @media screen and (max-width: 530px) {\r\n    input {\r\n      font-size: 0.9rem;\r\n    }\r\n  }\r\n`;\r\n\r\nconst SearchInput = () => {\r\n  const term = useInput(\"\");\r\n\r\n  // const [\r\n  //   searchByTag,\r\n  //   { data: searchTagData, loading: searchTagLoading },\r\n  // ] = useLazyQuery(SEARCH_BY_TAG);\r\n\r\n  // const [\r\n  //   searchByTweet,\r\n  //   { data: searchTweetData, loading: searchTweetLoading },\r\n  // ] = useLazyQuery(SEARCH_BY_TWEET);\r\n\r\n  // const [\r\n  //   searchByUser,\r\n  //   { data: searchUserData, loading: searchUserLoading },\r\n  // ] = useLazyQuery(SEARCH_BY_USER);\r\n\r\n  const handleSearch = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!term.value) {\r\n      return toast.error(\"Enter something to search\");\r\n    }\r\n\r\n    try {\r\n      // await searchByTag({ variables: { term: term.value } });\r\n      // await searchByTweet({ variables: { term: term.value } });\r\n      // await searchByUser({ variables: { term: term.value } });\r\n    } catch (err) {\r\n      displayError(err);\r\n    }\r\n    term.setValue(\"\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Wrapper>\r\n        <form onSubmit={(e) => handleSearch(e)}>\r\n          <input\r\n            placeholder=\"Search by tags, tweets, people\"\r\n            type=\"text\"\r\n            value={term.value}\r\n            onChange={term.onChange}\r\n          />\r\n        </form>\r\n      </Wrapper>\r\n      {/* <SearchResult\r\n        searchTagLoading={searchTagLoading}\r\n        searchTweetLoading={searchTweetLoading}\r\n        searchUserLoading={searchUserLoading}\r\n        tags={searchTagData}\r\n        users={searchUserData}\r\n        tweets={searchTweetData} */}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SearchInput;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport SearchInput from \"../components/Search/SearchInput\";\r\n\r\nconst Wrapper = styled.div`\r\n\tpadding-bottom: 5rem;\r\n`;\r\n\r\nconst Explore = () => {\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t<SearchInput />\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nexport default Explore;\r\n","import React, { useContext } from \"react\";\r\nimport { ThemeContext } from \"styled-components\";\r\nimport styled from \"styled-components\";\r\nimport Popup from \"reactjs-popup\";\r\nimport FollowUser from \"../MenuItems/FollowUser\";\r\nimport MuteUser from \"../MenuItems/MuteUser\";\r\nimport BlockUser from \"../MenuItems/BlockUser\";\r\nimport AnalyseGraph from \"../MenuItems/AnalyseGraph\";\r\nimport TrustUser from \"../MenuItems/TrustUser\";\r\n\r\nconst Wrapper = styled.div`\r\n\r\n  vertical-align: text-top;\r\n\r\n  .btn {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .threedotsRow {\r\n    vertical-align: text-top;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .threedots:after {\r\n    content: '\\\\2807';\r\n    font-size: 20px;\r\n  }\r\n\r\n`;\r\n\r\nconst TweetMenuBtn = React.forwardRef(({ open, ...props }, ref) => {\r\n  return (\r\n    <div ref={ref} {...props}>\r\n     {/* <span className=\"threedots\" >...</span> */}\r\n     <span className=\"threedotsRow\" >...</span>\r\n    </div>\r\n  );\r\n});\r\n\r\n\r\nconst ProfileMenu = ({ user }) => {\r\n  const theme = useContext(ThemeContext);\r\n\r\n  const contentStyle = {\r\n    width: \"260px\",\r\n    background: theme.background,\r\n    borderRadius: \"6px\",\r\n    border: `1px solid ${theme.tertiaryColor}`,\r\n    boxShadow: theme.bs1,\r\n  };\r\n\r\n  const overlayStyle = {\r\n    background: \"none\",\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Popup\r\n        className=\"btn\"\r\n        trigger={(open) => <TweetMenuBtn open={open} />}\r\n        position=\"bottom right\"\r\n        closeOnDocumentClick\r\n        contentStyle={contentStyle}\r\n        overlayStyle={overlayStyle}\r\n        arrow={false}\r\n        nested\r\n      >\r\n      {close => (\r\n        <React.Fragment>\r\n          <TrustUser user={ user } popupClose={close} />\r\n          <FollowUser user={ user } />\r\n          <MuteUser user={ user } />\r\n          <BlockUser user={ user } popupClose={close} />\r\n          <AnalyseGraph user={ user } popupClose={close} />\r\n        </React.Fragment>\r\n        )}\r\n      </Popup> \r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default ProfileMenu;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Button from \"../styles/Button\";\r\nimport AvatarIdenticon from \"./AvatarIdenticon\";\r\nimport useProfile from '../hooks/useProfile';\r\nimport Degree from './Buttons/Degree';\r\nimport ProfileMenu from './Profile/ProfileMenu'\r\n\r\n\r\nconst UserWrapper = styled.div`\r\n\tdisplay: flex;\r\n\tjustify-content: space-between;\r\n\tpadding: 1rem 1rem;\r\n\tborder-bottom: 1px solid ${props => props.theme.tertiaryColor};\r\n\tfont-size: 0.9rem;\r\n\r\n\tbutton {\r\n\t\talign-self: flex-start;\r\n\t}\r\n\r\n\t.avatar-handle {\r\n\t\tdisplay: flex;\r\n\r\n\t\timg {\r\n\t\t\tmargin-right: 1rem;\r\n\t\t}\r\n\t}\r\n\r\n\t.handle-fullname {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\tspan:first-child {\r\n\t\t\tfont-weight: 500;\r\n\t\t}\r\n\r\n\t\tspan.secondary {\r\n\t\t\tcolor: ${props => props.theme.secondaryColor};\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst UserItem = ({ id, user }) => {\r\n\r\n\r\n\tconst profile = useProfile(user);\r\n\r\n\tconst userid = user.id;\r\n\tconst { handle, displayname } = profile;\r\n\t  \r\n    return (\r\n\t<UserWrapper>\r\n\t\t<div className=\"avatar-handle\">\r\n            <Link to={`/${userid}`}>\r\n                <AvatarIdenticon id={userid} profile={profile} />\r\n            </Link>\r\n\t\t\t<div className=\"handle-fullname\">\r\n                <Link to={`/${userid}`}>\r\n                    <span className=\"username\">{displayname}</span>\r\n                </Link>\r\n                <span className=\"secondary\">{`@${handle}`}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t{!user.isSelf ? (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<span>{user.state.action}</span>\r\n\t\t\t\t<Degree user={user}></Degree>\r\n\t\t\t\t<ProfileMenu user={user}></ProfileMenu>\r\n\r\n\t\t\t</React.Fragment>\r\n\t\t) : (\r\n\t\t\t<Link to=\"/settings/profile\">\r\n\t\t\t\t<Button sm outline className=\"action-btn\">\r\n\t\t\t\t\tEdit Profile\r\n\t\t\t\t</Button>\r\n\t\t\t</Link>\r\n\t\t)}\r\n\t</UserWrapper>);\r\n};\r\n\r\nexport default UserItem;","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Loader from \"./Loader\";\r\nimport Header from \"./Header\";\r\nimport useUser from \"../hooks/useUser\";\r\nimport resources from '../utils/resources';\r\nimport UserItem from \"./UserItem\";\r\n\r\n\r\nconst Wrapper = styled.div`\r\n\tmargin-left: 0.4rem;\r\n\twidth: 350px;\r\n\tbackground: ${props => props.theme.tertiaryColor2};\r\n\tborder-radius: 10px;\r\n\r\n\tdiv:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n`;\r\n\r\n\r\nconst WhoToFollow = () => {\r\n\tconst { user: loggedInUser, gun, getUserContainerById} = useUser();\r\n\r\n\tconst [ list, setList ] = useState(null);\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\t(async () => {\r\n\t\t\tconst availableUsers = await gun.get(resources.node.names.dpeep).get(resources.node.names.userIndex).once(p=>p, {wait:0}).then() || {};\r\n\t\t\t\r\n\t\t\tconst allUsers = Object.keys(availableUsers).filter(key => key !== '_' && key !== loggedInUser.id && availableUsers[key]).map(key => {\r\n\t\t\t\tconst keyUser = getUserContainerById(key);\r\n\r\n\t\t\t\tkeyUser.isFollowing = false;\r\n\t\t\t\tkeyUser.isSelf = (key === loggedInUser.id);\r\n\r\n\t\t\t\t// TODO: Implement multiple degrees\r\n\t\t\t\t// const relationship = keyUser.relationshipBy[loggedInUser.id]; // Base degree only\r\n\t\t\t\t// if(relationship) {\r\n\t\t\t\t// \tkeyUser.isFollowing = relationship.action === \"trust\" || relationship.action === \"follow\";\r\n\t\t\t\t// \tkeyUser.relationship = relationship;\r\n\t\t\t\t// }\r\n\r\n\t\t\t\treturn keyUser;\t\r\n\t\t\t} );\r\n\t\t\r\n\t\t\tsetList(allUsers || []);\r\n\t\t})();\r\n\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tif(!list) return <Loader />;\r\n\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t<Header>Who to follow</Header>\r\n\t\t\t{\r\n\t\t\t\t(list.length > 0) ?\r\n\t\t\t\t\tlist.map(user => <UserItem key={user.id} user={user} /> )\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<p>No other users was found</p>\r\n\t\t\t}\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nexport default WhoToFollow;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport WhoToFollow from \"../components/WhoToFollow\";\r\n\r\nconst Wrapper = styled.div`\r\n\tposition: relative;\r\n  padding: 1rem;\r\n  min-height: 100vh;\r\n\tborder-left: 1px solid ${props => props.theme.tertiaryColor};\r\n\r\n  @media screen and (max-width: 1100px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Suggestion = () => {\r\n  return (\r\n    <Wrapper>\r\n      <WhoToFollow />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default Suggestion;\r\n","import React from \"react\";\r\nimport styled, { css } from \"styled-components\";\r\n\r\nexport const Wrapper = styled.div`\r\n  width: 315px;\r\n  background: ${(props) => props.theme.tertiaryColor2};\r\n  padding: 0.2rem 0.4rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid ${(props) => props.theme.accentColor};\r\n  margin-bottom: 2rem;\r\n\r\n  input {\r\n    width: 100%;\r\n    background: inherit;\r\n    border: none;\r\n    font-size: 1rem;\r\n    font-family: ${(props) => props.theme.font};\r\n    color: ${(props) => props.theme.primaryColor};\r\n  }\r\n\r\n  label {\r\n    color: ${(props) => props.theme.secondaryColor};\r\n    margin-bottom: 2px;\r\n    width: 100%;\r\n  }\r\n\r\n  ${(props) =>\r\n    props.lg &&\r\n    css`\r\n      width: 100%;\r\n    `}\r\n`;\r\n\r\nconst Input = ({\r\n  lg = false,\r\n  type = \"text\",\r\n  text,\r\n  value,\r\n  onChange,\r\n  placeholder,\r\n}) => {\r\n  return (\r\n    <Wrapper lg={lg}>\r\n      <label>{text}</label>\r\n      <input\r\n        autoComplete=\"new-password\"\r\n        type={type}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    </Wrapper>\r\n  );\r\n};\r\nexport default Input;","import React, { useState } from \"react\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport useInput from \"../../hooks/useInput\";\r\nimport Input, { Wrapper } from \"../Input\";\r\nimport Button from \"../../styles/Button\";\r\nimport Form from \"../../styles/Form\";\r\nimport { displayError } from \"../../utils\";\r\n//import CoverPhoto from \"../../styles/CoverPhoto\";\r\nimport AvatarIdenticon from \"../AvatarIdenticon\";\r\n//import { uploadImage } from \"../../utils\";\r\nimport useUser from \"../../hooks/useUser\";\r\nimport Avatar from \"../../styles/Avatar\";\r\n\r\n\r\nconst EditProfileForm = ({ history }) => {\r\n\r\n  const { user } = useUser();\r\n\r\n  const [avatarState, setAvatar] = useState(\"\");\r\n//  const [coverPhotoState, setCoverPhoto] = useState(\"\");\r\n\r\n  const profile = user.profile;\r\n\r\n  const displayname = useInput(profile.displayname);\r\n  //const location = useInput(profile && profile.location);\r\n  const website = useInput(profile.website);\r\n  //const dob = useInput(profile && profile.dob);\r\n  const avatar = useInput(profile.avatar);\r\n  const bio = useInput(profile.bio);\r\n  const coverPhoto = useInput(profile.coverPhoto || '/tropical_paradise_204378.jpg');\r\n\r\n  const handle = user.id;\r\n\r\n\r\n  const handleEditProfile = async (e) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      let formData ={\r\n          displayname: displayname.value+'',\r\n          bio: bio.value+'',\r\n          website: website.value+'',\r\n          avatar: avatarState ? avatarState : avatar.value,\r\n          //coverPhoto: coverPhotoState ? coverPhotoState : coverPhoto.value,\r\n          coverPhoto: '',\r\n          location: '',\r\n          dob : ''\r\n      };\r\n\r\n      let updatedData = Object.assign(profile, formData);\r\n\r\n      user.node.profile.put(updatedData);\r\n\r\n      toast.success(\"Your profile has been updated 🥳\");\r\n    } catch (err) {\r\n      return displayError(err);\r\n    }\r\n\r\n    [\r\n      displayname,\r\n      // dob,\r\n      // location,\r\n      website,\r\n      avatar,\r\n      coverPhoto,\r\n    ].map((field) => field.setValue(\"\"));\r\n\r\n    history.push(`/${handle}`);\r\n  };\r\n\r\n  //const handleCoverPhoto = async (e) => {\r\n    //setCoverPhoto(await uploadImage(e.target.files[0]));\r\n  //};\r\n\r\n  // const photoUpload = (e: any) => {\r\n  //   e.preventDefault();\r\n  //   const reader = new FileReader();\r\n  //   const file = e.target.files[0];\r\n  //   console.log(\"reader\", reader)\r\n  //   console.log(\"file\", file)\r\n  //   if (reader !== undefined && file !== undefined) {\r\n  //     reader.onloadend = () => {\r\n  //       //setFile(file)\r\n  //       //setSize(file.size);\r\n  //       //setName(file.name)\r\n  //       //setImagePreview(reader.result)\r\n\r\n  //     }\r\n  //     reader.readAsDataURL(file);\r\n  //   }\r\n  // }\r\n\r\n  function ResizeImage(file, cb) {\r\n    // Read in file\r\n      // Load the image\r\n      var reader = new FileReader();\r\n      reader.onload = function (readerEvent) {\r\n          var image = new Image();\r\n          image.onload = function (imageEvent) {\r\n\r\n              // Resize the image\r\n              var canvas = document.createElement('canvas'),\r\n                  max_size = 120,// TODO : pull max size from a site config\r\n                  width = image.width,\r\n                  height = image.height;\r\n\r\n              if (width > height) {\r\n                  if (width > max_size) {\r\n                      height *= max_size / width;\r\n                      width = max_size;\r\n                  }\r\n              } else {\r\n                  if (height > max_size) {\r\n                      width *= max_size / height;\r\n                      height = max_size;\r\n                  }\r\n              }\r\n              canvas.width = width;\r\n              canvas.height = height;\r\n              canvas.getContext('2d').drawImage(image, 0, 0, width, height);\r\n\r\n              var dataUrl = canvas.toDataURL('image/jpeg');\r\n              cb(dataUrl);\r\n          }\r\n          image.src = readerEvent.target.result;\r\n      }\r\n      reader.readAsDataURL(file);\r\n};\r\n\r\n\r\n    const handleAvatar = async (e) => {\r\n    console.log(\"file\", e.target.files[0]);\r\n    let file = e.target.files[0];\r\n    if (file) {\r\n      ResizeImage(file, (dataurl) => {\r\n        setAvatar(dataurl);\r\n      });\r\n      // const reader = new FileReader();\r\n      // reader.onload = (readerEvt) => {\r\n      //   let binaryString = readerEvt.target.result;\r\n      // }\r\n\r\n      // reader.readAsDataURL(file)\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <Form lg onSubmit={handleEditProfile}>\r\n      {/* <Wrapper>\r\n        <label>Cover Photo</label>\r\n        <label htmlFor=\"cover-photo-input\">\r\n          <CoverPhoto\r\n            src={coverPhotoState ? coverPhotoState : coverPhoto.value}\r\n            alt=\"cover\"\r\n          />\r\n        </label>\r\n        <input type=\"file\" id=\"cover-photo-input\" accept=\"image/*\" onChange={handleCoverPhoto} />\r\n      </Wrapper> */}\r\n\r\n      <Wrapper>\r\n        <label>Avatar Photo</label>\r\n        <label htmlFor=\"avatar-input-file\">\r\n          \r\n          { avatarState && avatarState.length > 0 ?\r\n          <Avatar\r\n            lg\r\n            src={avatarState ? avatarState : avatar.value}\r\n            alt=\"avatar\"\r\n          />\r\n          : \r\n          <AvatarIdenticon id={handle} profile={profile} />\r\n          }\r\n        </label>\r\n        <input type=\"file\" accept=\"image/*\" id=\"avatar-input-file\" onChange={handleAvatar} />\r\n      </Wrapper>\r\n\r\n      <Input\r\n        lg={true}\r\n        text=\"Display Name\"\r\n        value={displayname.value}\r\n        onChange={displayname.onChange}\r\n      />\r\n      <div className=\"bio-wrapper\">\r\n        <label className=\"bio\" htmlFor=\"bio\">\r\n          Bio\r\n        </label>\r\n        <TextareaAutosize\r\n          id=\"bio\"\r\n          placeholder=\"Write your bio here...\"\r\n          value={bio.value}\r\n          onChange={bio.onChange}\r\n        />\r\n      </div>\r\n      <Input\r\n        lg={true}\r\n        text=\"Website\"\r\n        value={website.value}\r\n        onChange={website.onChange}\r\n      />\r\n      {/* <Input\r\n        lg={true}\r\n        text=\"Date of Birth\"\r\n        value={dob.value}\r\n        onChange={dob.onChange}\r\n      /> */}\r\n      {/* <Input\r\n        lg={true}\r\n        text=\"Location\"\r\n        value={location.value}\r\n        onChange={location.onChange}\r\n      /> */}\r\n      <Button outline type=\"submit\">Save</Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default withRouter(EditProfileForm);\r\n","//import React, { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Header from \"../Header\";\r\nimport EditProfileForm from \"./EditProfileForm\";\r\n\r\nconst Wrapper = styled.div`\r\n\tpadding-bottom: 5rem;\r\n\r\n\t.flex-wrapper {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\r\n\t\tform {\r\n\t\t\t.cover-photo {\r\n\t\t\t\tmargin-bottom: 1rem;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\r\n\t\t\t.avatar-input {\r\n\t\t\t\tmargin-top: -100px;\r\n\t\t\t\tmargin-left: 1rem;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\r\n\t\t\tdiv.bio-wrapper {\r\n\t\t\t\tbackground: ${props => props.theme.tertiaryColor2};\r\n\t\t\t\tmargin-bottom: 1.4rem;\r\n\t\t\t\tborder-bottom: 1px solid ${props => props.theme.accentColor};\r\n\t\t\t\tpadding: 0.5rem;\r\n\r\n\t\t\t\tlabel {\r\n\t\t\t\t\tcolor: ${props => props.theme.secondaryColor};\r\n\t\t\t\t\tmargin-bottom: 0.4rem;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttextarea {\r\n\t\t\t\t\tfont-size: 1rem;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tbackground: ${props => props.theme.tertiaryColor2};\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t\tfont-family: ${props => props.theme.font};\r\n\t\t\t\t\tcolor: ${props => props.theme.primaryColor};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 760px) {\r\n\t\t.flex-wrapper {\r\n\t\t\tdisplay: block;\r\n\t\t}\r\n\t}\r\n`;\r\n\r\nconst EditProfile = () => {\r\n\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t<Header>Edit Profile</Header>\r\n\t\t\t<div className=\"flex-wrapper\">\r\n\t\t\t\t<EditProfileForm />\r\n\t\t\t</div>\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nexport default EditProfile;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { toast } from \"react-toastify\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport useInput from \"../../hooks/useInput\";\r\nimport Button from \"../../styles/Button\";\r\n//import AvatarIdenticon from \"../AvatarIdenticon\";\r\nimport Loader from \"../Loader\";\r\nimport useUser  from '../../hooks/useUser';\r\n\r\nconst Wrapper = styled.div`\r\n  display: flex;\r\n  padding: 1rem 1rem;\r\n  border-bottom: 7px solid ${(props) => props.theme.tertiaryColor};\r\n\r\n  textarea {\r\n    width: 100%;\r\n    background: inherit;\r\n    border: none;\r\n    font-size: 1.23rem;\r\n    font-family: ${(props) => props.theme.font};\r\n    color: ${(props) => props.theme.primaryColor};\r\n    margin-bottom: 1.4rem;\r\n  }\r\n\r\n  .new-keypair {\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .new-keypair-action {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  svg {\r\n    width: 24px;\r\n    height: 24px;\r\n    fill: ${(props) => props.theme.accentColor};\r\n    margin-right: 2rem;\r\n    cursor: pointer;\r\n  }\r\n\r\n  button {\r\n    position: relative;\r\n  }\r\n`;\r\n\r\nconst KeyPair = () => {\r\n  const keyPair = useInput(\"\");\r\n\r\n\r\n  const { user } = useUser();\r\n  //const [ user, setUser ] = useState(null);\r\n\r\n  // useEffect(() => {\r\n  //   if(!userContainer) return;\r\n\r\n  //   setUser(userContainer);\r\n  //   keyPair.value = JSON.stringify(userContainer.node.user.is, null, 2);\r\n  // },[userContainer, keyPair]);\r\n\r\n  if (!user) return <Loader />;\r\n\r\n  keyPair.value = JSON.stringify(user.node.user.is, null, 2);\r\n\r\n  const handleNewKeyPair = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!keyPair.value) return toast(\"Write something\");\r\n\r\n  //   const tags = keyPair.value.split(\" \").filter((str) => str.startsWith(\"#\")).join(', ');\r\n\r\n  //   try {\r\n  //     let tweetdata = { \"text\" : keyPair.value, \"tags\": tags };\r\n  //     createTweet(tweetdata);\r\n\r\n  //     //toast.success(\"Your tweet has been posted\");\r\n  //   } catch (err) {\r\n  //     return displayError(err);\r\n  //   }\r\n\r\n  //   keyPair.setValue(\"\");\r\n  //   setTweetFiles([]);\r\n  // };\r\n\r\n  // const handleTweetFiles = async (e) => {\r\n  //   const imageUrl = await uploadImage(e.target.files[0]);\r\n  //   setTweetFiles([...tweetFiles, imageUrl]);\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n\r\n      \r\n      <form onSubmit={handleNewKeyPair}>\r\n        <div className=\"new-keypair\">Key pair</div>\r\n        <div className=\"new-keypair\">\r\n          <TextareaAutosize\r\n            cols=\"48\"\r\n            placeholder=\"Add key pair\"\r\n            type=\"text\"\r\n            value={keyPair.value}\r\n            onChange={keyPair.onChange}\r\n          />\r\n\r\n          <div className=\"new-keypair-action\">\r\n            <Button sm disabled={false}>\r\n              Update key pair\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default KeyPair;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport KeyPair from \"../components/Settings/KeyPair\";\r\nimport Header from \"../components/Header\";\r\n\r\nconst Wrapper = styled.div``;\r\n\r\nconst Settings = () => {\r\n\treturn (\r\n\t\t<Wrapper>\r\n\t\t\t<Header>\r\n\t\t\t\t<span>My Settings</span>\r\n\t\t\t</Header>\r\n\t\t\t<KeyPair />\r\n\t\t</Wrapper>\r\n\t);\r\n};\r\n\r\nexport default Settings;\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport Layout from \"./styles/Layout\";\r\n\r\nimport Nav from \"./components/layout/Nav\";\r\nimport Home from \"./pages/Home\";\r\nimport MasterTweet from \"./components/Tweet/MasterTweet\";\r\nimport Profile from \"./components/Profile/Profile\";\r\nimport Bookmarks from \"./pages/Bookmarks\";\r\nimport Notifications from \"./pages/Notifications\";\r\nimport Explore from \"./pages/Explore\";\r\nimport Suggestion from \"./pages/Suggestion\";\r\nimport EditProfile from \"./components/Profile/EditProfile\";\r\nimport Settings from \"./pages/Settings\";\r\n\r\n\r\nconst AppRouter = () => {\r\n  return (\r\n    <Router>\r\n      <Nav />\r\n      <Layout>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/explore\" component={Explore} />\r\n          <Route exact path=\"/notifications\" component={Notifications} />\r\n          <Route exact path=\"/bookmarks\" component={Bookmarks} />\r\n          <Route exact path=\"/settings\" component={Settings} />\r\n          <Route exact path={`/settings/profile`} component={EditProfile} />\r\n          <Route\r\n            exact\r\n            path={`/tweet/:handle`}\r\n            component={MasterTweet}\r\n          />\r\n          <Route exact path={`/:handle`} component={Profile} />\r\n          <Redirect from=\"*\" to=\"/\" />\r\n        </Switch>\r\n        <Suggestion />\r\n      </Layout>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import React  from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport useInput from \"../../hooks/useInput\";\r\nimport Input from \".././Input\";\r\nimport Button from \"../../styles/Button\";\r\nimport Form from \"../../styles/Form\";\r\n//import { displayError } from \"../../utils\";\r\n//import Loader from \"../Loader\";\r\nimport useUser from '../../hooks/useUser';\r\n\r\n\r\nconst Login = ({ changeToSignup }) => {\r\n  const email = useInput(\"t\");\r\n  const password = useInput(\"1\");\r\n\r\n  const loading = false;\r\n\r\n  const { loginPassword } = useUser();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!email.value || !password.value) {\r\n      return toast.error(\"You need to fill all the fields\");\r\n    }\r\n\r\n    loginPassword(email.value, password.value); // const result = await \r\n\r\n    // Has to be syncron to work\r\n    // if(!result.success)\r\n    //   toast.error(result.msg, { autoClose: 5000});\r\n\r\n    [email, password].map((field) => field.setValue(\"\"));\r\n  };\r\n\r\n  return (\r\n    <Form center onSubmit={handleLogin}>\r\n      <Input\r\n        text=\"Handle\"\r\n        type=\"text\"\r\n        value={email.value}\r\n        onChange={email.onChange}\r\n      />\r\n      <Input\r\n        text=\"Password\"\r\n        type=\"password\"\r\n        value={password.value}\r\n        onChange={password.onChange}\r\n      />\r\n\r\n      <Button xl outline disabled={loading} type=\"submit\">\r\n        {loading ? \"Logging in\" : \"Login\"}\r\n      </Button>\r\n      <span>or</span>\r\n      <Button xl type=\"button\" onClick={changeToSignup}>\r\n        Signup\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Login;","import React from \"react\";\r\n//import { useMutation } from \"@apollo/react-hooks\";\r\nimport { toast } from \"react-toastify\";\r\nimport useInput from \"../../hooks/useInput\";\r\nimport Input from \".././Input\";\r\nimport Button from \"../../styles/Button\";\r\nimport Form from \"../../styles/Form\";\r\n//import { displayError } from \"../../utils\";\r\n//import { SIGNUP } from \"../../queries/auth\";\r\n//import { SignupGun } from \"../../gundb\";\r\n//import { UserContext, UserObj } from \"../../hooks/UserContext\";\r\n\r\nimport useUser from '../../hooks/useUser';\r\n\r\n\r\nconst Signup = ({ changeToLogin, setIsLoggedIn }) => {\r\n  const firstname = useInput(\"\");\r\n  const lastname = useInput(\"\");\r\n  const handle = useInput(\"t\");\r\n  const email = useInput(\"\");\r\n  const password = useInput(\"1\");\r\n\r\n  const loading = false;\r\n  const { userSignUp } = useUser();\r\n  \r\n  const handleSignup = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (\r\n      // !firstname.value ||\r\n      // !lastname.value ||\r\n      !handle.value ||\r\n      //!email.value ||\r\n      !password.value\r\n    ) {\r\n      return toast.error(\"You need to fill in all the fields\");\r\n    }\r\n\r\n    if (\r\n      handle.value === \"/\" ||\r\n      handle.value === \"explore\" ||\r\n      handle.value === \"settings/profile\" ||\r\n      handle.value === \"nofications\" ||\r\n      handle.value === \"bookmarks\"\r\n    ) {\r\n      return toast.error(\"Your handle is not valid, try a different one\");\r\n    }\r\n\r\n    const re = /^[a-z0-9]+$/i;\r\n\r\n    if (re.exec(handle.value) === null) {\r\n      return toast.error(\r\n        \"Your handle contains some non-alphanumeric characters, choose a better handle name\"\r\n      );\r\n    }\r\n\r\n    try {\r\n\r\n      let profile = {\r\n           id: '',\r\n           firstname: firstname.value,\r\n           lastname: lastname.value,\r\n           handle: handle.value,\r\n           email: email.value,\r\n           password: password.value,\r\n           fullname: '',\r\n           avatar: '',\r\n           website: '',\r\n           location: ''\r\n      };\r\n\r\n      userSignUp(profile);\r\n\r\n      //toast.success(\"You are logged in\");\r\n    } catch (err) {\r\n      //return displayError(err);\r\n      console.log(err);\r\n      return toast.error(err);\r\n    }\r\n\r\n    [firstname, lastname, handle, email, password].map((field) =>\r\n      field.setValue(\"\")\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Form center onSubmit={handleSignup}>\r\n      {/* <div className=\"group-input\">\r\n        <Input\r\n          text=\"First Name\"\r\n          value={firstname.value}\r\n          onChange={firstname.onChange}\r\n        />\r\n        <Input\r\n          text=\"Last Name\"\r\n          value={lastname.value}\r\n          onChange={lastname.onChange}\r\n        />\r\n      </div> */}\r\n      <Input text=\"Handle\" value={handle.value} onChange={handle.onChange} />\r\n      <div className=\"group-input\">\r\n        {/* <Input\r\n          text=\"Email\"\r\n          type=\"email\"\r\n          value={email.value}\r\n          onChange={email.onChange}\r\n        /> */}\r\n        <Input\r\n          text=\"Password\"\r\n          type=\"password\"\r\n          value={password.value}\r\n          onChange={password.onChange}\r\n        />\r\n      </div>\r\n      <Button xl outline disabled={loading} type=\"submit\">\r\n        {loading ? \"Signing in\" : \"Sign up\"}\r\n      </Button>\r\n      <span>or</span>\r\n      <Button xl type=\"button\" onClick={changeToLogin}>\r\n        Login\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n\r\n// /^[a-z0-9]+$/i\r\n","import React, { useState } from \"react\";\r\nimport Login from \"./Login\";\r\nimport Signup from \"./Signup\";\r\n\r\nconst Auth = (prop) => {\r\n  const [authAction, setAuthAction] = useState(\"LOGIN\");\r\n  const changeToLogin = () => setAuthAction(\"LOGIN\");\r\n  const changeToSignup = () => setAuthAction(\"SIGNUP\");\r\n\r\n\r\n  return (\r\n       (authAction === \"LOGIN\") ? (\r\n        <Login changeToSignup={changeToSignup} />\r\n      ) : (\r\n        <Signup changeToLogin={changeToLogin} />\r\n      )\r\n  );\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useContext } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { ThemeProvider as StyledThemeProvider } from \"styled-components\";\r\nimport GlobalStyle from \"./styles/GlobalStyle\";\r\nimport { ThemeContext } from \"./context/ThemeContext\";\r\nimport Router from \"./Route\";\r\nimport Auth from \"./components/Auth/Auth\";\r\nimport useUser from './hooks/useUser';\r\n//import 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n\r\nconst App = () => {\r\n\r\n  const { isLoggedIn } = useUser();\r\n\r\n  const { theme } = useContext(ThemeContext);\r\n\r\n  return (\r\n      <StyledThemeProvider theme={theme}>\r\n        <GlobalStyle />\r\n        <ToastContainer\r\n          toastClassName=\"toast-style\"\r\n          autoClose={2000}\r\n          closeButton={false}\r\n          draggable={false}\r\n        />\r\n        {isLoggedIn ? <Router /> : <Auth />}\r\n      </StyledThemeProvider>\r\n  );\r\n};\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { UserProvider } from './userContext';\r\n\r\nconst AppProviders = ({ children }) => {\r\n  return (\r\n    <Router>\r\n        <UserProvider>\r\n          {children}\r\n        </UserProvider>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport { AppProviders };\r\n","import React from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport App from \"./App\";\r\nimport { AppProviders } from './context';\r\nimport { ThemeProvider } from \"./context/ThemeContext\";\r\n\r\nconst RootApp = () => (\r\n  <AppProviders>\r\n     <ThemeProvider>\r\n       <App />\r\n     </ThemeProvider>\r\n  </AppProviders>\r\n);\r\nrender(<RootApp />, document.getElementById(\"root\"));\r\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 99;"],"sourceRoot":""}